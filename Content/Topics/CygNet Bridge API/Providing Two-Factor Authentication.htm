<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="CygNet Bridge API">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Providing Two-Factor Authentication</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="CygNet Bridge API.htm">CygNet Bridge API</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Providing Two-Factor Authentication</span>
        </div>
        <h2>Providing Two-Factor Authentication for CygNet Bridge API</h2>
        <div class="Note">
            <p><span class="NoteHeading">Important:</span>
            </p>
            <p>CygNet Bridge supports three major features, CygNet Mobile, CygNet Dispatch, and CygNet Bridge API. Because CygNet Bridge API is the only feature that currently supports a two-factor authentication option, system configuration requirements change depending on your planned installation.</p>
            <p>If you are providing two-factor authentication for CygNet Bridge API and also running CygNet Mobile or CygNet Dispatch, you must install two separate instances of CygNet Bridge, on different host computers; install one instance of CygNet Bridge with the CygNet Bridge API feature selected and, on a different host computer, install a separate instance of CygNet Bridge with the CygNet Mobile and/or CygNet Dispatch features selected.</p>
        </div>
        <p>Provide two-factor authentication to add an additional layer of security when using CygNet Bridge API over the web. When the option is available, providing two-factor authentication (2FA)  better protects access to your CygNet data and controls. To provide two-factor authentication, you must set it up for applicable parts of your system. Currently two-factor authentication can be used with the CygNet Bridge API feature in CygNet Bridge.</p>
        <h3>Configuring the Two-Factor Authentication Mode</h3>
        <p>Configure the settings governing usage of two-factor authentication during installation of CygNet Bridge API, in the <b>Multi-factor authentication</b> section of the CygNet Bridge installer. The <b>Two-factor mode</b> selection determines how, or if, two-factor authentication is available for use with CygNet Bridge API. Possible settings are as follows.</p>
        <ul>
            <li value="1"><b>Disabled</b> - CygNet Bridge API has not enabled the use of 2FA; this is the default setting</li>
            <li value="2"><b>Optional</b> - each CygNet Bridge API user can decide whether or not they want to use 2FA</li>
            <li value="3"><b>Required</b> - all CygNet Bridge API users are required to use 2FA</li>
        </ul>
        <p>See <a href="../CygNet Bridge/Installing CygNet Bridge.htm">Installing CygNet Bridge</a> for more information about selecting 2FA mode during the installation process.</p>
        <h3>Providing Two-Factor Authentication</h3>
        <p>Providing two-factor authentication for CygNet Bridge API adds considerations to your preparation process. If you intend on using two-factor authentication, plan your CygNet Bridge installation  to include the following elements.</p>
        <table class="TableStyle-HelpTable2" style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" cellspacing="0">
            <col style="width: 210px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Element</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1" colspan="2"><b>CygNet elements</b>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                        <p class="Indent">CygNet Group service (GRP service type)</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>You will need to set up a separate CygNet Group service specifically to store user authentication information used for 2FA. When installing CygNet Bridge with the Bridge API feature selected, you will be asked to supply the information for this separate Group service  in the <b>Multi-factor authentication</b> section of the Bridge API page.</p>
                        <p>See <a href="Preparing your System for CygNet Bridge API.htm#Providin">Preparing your System for CygNet Bridge API</a> for more information.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                        <p class="Indent">CygNet Bridge API sample web application</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>(Optional) When you build the CygNet Bridge API sample web application, you will  have access to samples provided to help you build calls to interact with your CygNet Bridge APIs, including an example for two-factor authentication.</p>
                        <p>See <a href="Building the CygNet Bridge API Sample Web Application.htm">Building the CygNet Bridge API Sample Web Application</a> for more information.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2" colspan="2"><b>Additional requirements</b>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                        <p class="Indent">Mobile phone</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>You will need consistent access to a mobile phone device capable of installing a two-factor authenticator app and scanning a QR code as necessary.</p>
                        <p>(Examples: iOS or Android mobile devices)</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body2">
                        <p class="Indent">Two-factor authenticator app</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body2">
                        <p>You will need to select and install an authenticator app that is capable of generating a time-based, one-time passcode, and is compatible with your mobile phone device.</p>
                        <p>(Examples: LastPass Authenticator, Microsoft Authenticator, Google Authenticator)</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>Use the following procedure to provide two-factor authentication for CygNet Bridge API.</p>
        <p class="HeadingProcedure">To Provide Two-Factor Authentication for CygNet Bridge API</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> Refer to the CygNet Bridge API sample web application for an example of using two-factor authentication. See <a href="Building the CygNet Bridge API Sample Web Application.htm">Building the CygNet Bridge API Sample Web Application</a> for more information.</p>
        </div>
        <ol>
            <li value="1">Complete the following preparations for two-factor authentication.</li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1">Verify or create a dedicated Group service (GRP service type) in your CygNet installation, to use specifically for storing user authentication information. See <a href="Preparing your System for CygNet Bridge API.htm#Providin">Preparing your System for CygNet Bridge API</a> for more information about the process. <div class="Note"><p><span class="NoteHeading">Note:</span> During CygNet Bridge and Bridge API installation, when 2FA is enabled, the new Group service information will be required in the  "Multi-factor authentication" section of the Bridge API page.</p></div></li>
        </ol>
        <ol start="2" class="Lower_alpha">
            <li value="2">Secure access to a mobile phone device capable of installing and running a two-factor authenticator app and scanning a QR code as necessary.</li>
            <li value="3">Select an authenticator app capable of generating a time-based, one-time passcode, that meets your needs and is compatible with your mobile phone device. Install the authenticator app you have selected on your mobile phone device.</li>
            <li value="4">Install CygNet Bridge, with the CygNet Bridge API feature selected, the multi-factor authentication mode set to Optional or Required, and information supplied for the dedicated Group service. See <a href="../CygNet Bridge/Installing CygNet Bridge.htm">Installing CygNet Bridge</a> for more information.</li>
            <li value="5">Start your CygNet Bridge site in the IIS Manager.</li>
        </ol>
        <h3>Enabling Two-Factor Authentication for a User Account</h3>
        <p>When the multi-factor authentication mode is set to Required, all users must enable 2FA for their user login. When the mode is set to Optional, each user can decide whether or not to enable 2FA. </p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> After initial setup, your 2FA app continues to generate passcodes on a regular time interval until passcode expiration or 2FA reset.</p>
        </div>
        <p class="HeadingProcedure">To Enable Two-Factor Authentication for Your User Account</p>
        <p>Using your API client, do the following to enable two-factor authentication for your user account. </p>
        <ol>
            <li value="1">Access the QR code and generate an authentication passcode.</li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1">Create a GET <b>clientloginapi/api/login/tfa-qr</b> request to generate the CygNet Bridge API <b>QR code</b> image data. </li>
            <li value="2">Provide your user credentials (user name, password, and domain/workstation etc. if applicable).</li>
            <li value="3">Display the  QR code  image data contained in the response.</li>
            <li value="4">Using the 2FA app on your mobile phone device, scan the QR code and process the image to  produce an authentication passcode.<div class="Note"><p><span class="NoteHeading">Note:</span> You can still change your mind and stop the setup process at this point, if desired. The passcode will not become required until the next step (confirmation) is complete.</p></div></li>
        </ol>
        <ol start="2">
            <li value="2">Confirm the authentication passcode. </li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1">Create a GET <b>clientloginapi/api/login/tfa-confirm</b> request to confirm the authentication passcode.</li>
            <li value="2">Provide your user credentials (user name, password, and domain/workstation etc. if applicable).</li>
            <li value="3">Add a header named <b>X-WFT-AuthCode</b>.</li>
            <li value="4">Enter the authentication passcode generated by your 2FA app into the value column of the <b>X-WFT-AuthCode</b> header. <div class="Note"><p><span class="NoteHeading">Note:</span> Once the confirmation action is complete, the <b>X-WFT-AuthCode</b> header will be required to log in successfully, until it is reset by an administrator.</p></div></li>
        </ol>
        <ol start="3">
            <li value="3">Optionally log in at this time, to verify the process and generate an authentication token. </li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1"> Create a GET <b>clientloginapi/api/login</b> request to log in using the authentication passcode. </li>
            <li value="2">Provide your user credentials (user name, password, and domain/workstation etc. if applicable).</li>
            <li value="3">Add a  header named <b>X-WFT-AuthCode</b>.</li>
            <li value="4">Provide the authentication passcode generated by your 2FA app into the value column of the <b>X-WFT-AuthCode</b> header.<div class="Note"><p><span class="NoteHeading">Note:</span> Because the authentication passcode is time based, you may need to regenerate the code using your 2FA app. Repeat as necessary.</p></div></li>
            <li value="5">The authentication token  contained in the response is used in your CygNet Bridge API calls. </li>
        </ol>
        <h3>Using Two-Factor Authentication for CygNet Bridge API</h3>
        <p>Once it is set up, your CygNet Bridge API calls will have the additional protections of two-factor authentication. In Required multi-factor authentication mode,  all users must use 2FA. In Optional mode, users may use 2FA if they choose. </p>
        <p>When you access the CygNet Bridge API, do the following to use two-factor authentication.</p>
        <ol>
            <li value="1">Using your API client, log in to CygNet Bridge API using your authorization credentials and 2FA passcode.</li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1">Create a GET <b>clientloginapi/api/login</b> request. </li>
            <li value="2">Provide your user credentials (user name, password, and domain/workstation etc. if applicable).</li>
            <li value="3">Add a header named <b>X-WFT-AuthCode</b>.</li>
            <li value="4">Provide the authentication passcode generated by your 2FA app in the <b>X-WFT-AuthCode</b> header.<div class="Note"><p><span class="NoteHeading">Note:</span> Because the authentication passcode is time based, you may need to regenerate the code using your 2FA app. Repeat as necessary.</p></div></li>
            <li value="5">The authentication token  contained in the response is used by your CygNet Bridge API calls. </li>
        </ol>
        <ol start="2">
            <li value="2">Create a CygNet Bridge API request including the authentication token.</li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1">Create a CygNet Bridge API request. </li>
            <li value="2">Add a  header named <b>X-WFT-AuthToken</b>.</li>
            <li value="3">Provide the authentication token generated at login in the <b>X-WFT-AuthToken</b> header.</li>
        </ol>
        <hr />
        <p class="More">More:
		</p>
        <p class="HyperlinkList">
            <img src="../../Resources/Images/Shared Images/arrow.gif" class="More_arrow" title="Arrow" alt="Arrow" /><a href="Managing Two-Factor Authentication Users.htm" class="More">Managing Two-Factor Authentication Users</a>
        </p><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>