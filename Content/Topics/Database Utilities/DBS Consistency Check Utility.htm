<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Data Storage|Database Utilities">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>DBS Consistency Check Utility</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="../Data Storage/Data Storage in CygNet.htm">Data Storage</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Database Utilities.htm">Database Utilities</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">DBS Consistency Check Utility</span>
        </div>
        <h2>DBS Consistency Check Utility</h2>
        <p>The <b>DBS Consistency Check</b> utility (DbsConsistencyCheck.exe) performs consistency checks between database records and index records. This utility requires that the DBS-based service be running.</p>
        <p>The DBS Consistency Check utility is stored in the <b>CygNet\Utilities</b> directory (DbsConsistencyCheck.exe) on the host server.</p>
        <h3>Starting DBS Consistency Check</h3>
        <h4>Installing and Launching</h4>
        <p>To install and launch (start) the application or utility using <a href="../Version Management/Version Management Overview.htm">version management</a>:</p>
        <ul>
            <li value="1">Use <a href="../CygNet Client Installer/CygNet Client Installer.htm">CygNet Client Installer</a> to install and launch the application. Once installed you can use CygNet Client Installer to start the application.</li>
        </ul>
        <p class="Indent">-OR-</p>
        <ul>
            <li value="1">If previously installed, click <b>Start</b> &gt; <b>All Programs</b> &gt; <b>CygNet</b> &gt; &lt;<i style="font-weight: bold;">name of the application or utility</i>&gt; or double-click the desktop shortcut.</li>
        </ul>
        <p>Alternatively, browse to the <b>CygNet\Utilities</b> directory using Windows Explorer and double-click the program icon. You can also start an application or utility from a <a href="../Utilities/Running a Command Line Utility.htm">command line</a>. These methods do not provide version management. </p>
        <p>The <b>DbsConsistencyCheck</b> dialog box appears.</p>
        <p class="Image">
            <img src="../../Resources/Images/Database Utilities/DbsConsistencyCheck.png" title="DBS Consistency Check" alt="DBS Consistency Check" />
        </p>
        <p class="HeadingProcedure">To Perform a Consistency Check</p>
        <ol>
            <li value="1">Make sure the DBS-based service is running. </li>
            <li value="2">Click <b>…</b> to select the service. </li>
            <li value="3">Click <b>Connect</b> to connect to the database.</li>
            <li value="4">Click the desired validation item: <b>Validate Indexes</b>, <b>Validate Stats</b>, <b>Orphan Check</b>, or <b>File Stats</b> described below.</li>
            <li value="5">Click <b>Clear</b> to remove the results.</li>
        </ol>
        <p>DBS Consistency Check performs the following items consistency checks:</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Consistency Check</th>
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">
                        Definition
                    </th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">If Errors Found Run</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p><a name="Validate_Indexes"></a><b>Validate Indexes</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>Validates that index records refer to existing database records, and the content of the index matches the content of the database record.</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p><a href="ReIndex ESE Utility.htm">ReIndex ESE</a>
                    </p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p><b>Validate Statistics</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>Validates that the record counts for each of the database tables and each index is consistent.</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p><a href="ESENTUTL Utility.htm">ESENTUTL</a>
                    </p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p><a name="Orphan_Check"></a><b>Orphan Check</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>Validates that all database records that should have an index record have an index record and the content is consistent.</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p><a href="ReIndex ESE Utility.htm">ReIndex ESE</a>
                    </p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p><b>File Statistics</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>Validates that the overall record counts for all of the indexes and all of the database tables are correct (these are different statistics from those checked by <b>Validate Statistics</b>).</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p><a href="ESENTUTL Utility.htm">ESENTUTL</a>
                    </p>
                </td>
            </tr>
        </table>
        <p>The DBS Consistency Check utility will retry if it detects that the data has changed while the checks are being performed to avoid reporting false errors, but it will eventually give up after 10 attempts. </p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> Use <a href="ESENTUTL Utility.htm">ESENTUTL</a> to perform physical consistency checks. </p>
        </div>
        <h3>Syntax</h3>
        <p>While the DBS Consistency Check utility has a graphical user interface, it also supports command-line parameters.</p>
        <p class="Syntax">DbsConsistencyCheck /domain:xxxx /&lt;logging level parameters&gt;</p>
        <h3>Parameters</h3>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 450px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">
                        Parameter
                    </th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/domain:xxxx</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Overrides the default domain ID with xxxx.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>/&lt;logging level parameters&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Logging parameters include:</p>
                    <p>/LOG_ALL, /LOG_NONE, /LOG_CONTROL, /LOG_EXCEPTIONS, /LOG_WARNING, </p>
                    <p>/LOG_PROG_STAT, /LOG_MAX_TRACE, and /LOG_ENTER_EXIT. </p>
                    <p>These overwrite the default logging levels of LOG_CONTROL, LOG_WARNING, LOG_PROG_STAT and LOG_EXCEPTIONS.</p>
                </td>
            </tr>
        </table>
        <p class="Example">Example</p>
        <table class="Code">
            <tr>
                <td>
                    <p class="Code">DbsConsistencyCheck /domain:1234 /LOG_ALL</p>
                </td>
            </tr>
        </table><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>