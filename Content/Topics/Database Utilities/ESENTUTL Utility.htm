<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Data Storage|Database Utilities">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>ESENTUTL Utility</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="../Data Storage/Data Storage in CygNet.htm">Data Storage</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Database Utilities.htm">Database Utilities</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Microsoft ESENTUTL Utility</span>
        </div>
        <h2>ESENTUTL Utility</h2>
        <p>The ESENTUTL utility (Esentutl.exe) is a command-line utility from Microsoft used for database maintenance and recovery operations. The Esentutl.exe tool is located in the <b>Windows\System32</b> folder (or <b>Windows\SysWOW64</b> folder if running a 64-bit operating system).</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> Be advised that if a CygNet utility has been provided for a particular purpose then use that utility and do not use ESENTUTL. For example, use <a href="DBS Restore Backup Utility.htm">DBS Restore Backup</a> instead of the Recovery option of ESENTUTL.</p>
        </div>
        <p>Consult Microsoft documentation for more information about this utility and its full list of options.</p>
        <p>The ESENTUTL contains the following options:</p>
        <ul>
            <li class="HyperlinkList" value="1"><a href="#Defragmentation" class="selected">Defragmentation</a>
            </li>
            <li class="HyperlinkList" value="2"><a href="#Recovery" class="selected">Recovery</a>
            </li>
            <li class="HyperlinkList" value="3"><a href="#Integrity" class="selected">Integrity</a>
            </li>
            <li class="HyperlinkList" value="4"><a href="#Checksum" class="selected">Checksum</a>
            </li>
            <li class="HyperlinkList" value="5"><a href="#Repair" class="selected">Repair</a>
            </li>
            <li class="HyperlinkList" value="6"><a href="#File_Dump" class="selected">File Dump</a>
            </li>
            <li class="HyperlinkList" value="7"><a href="#Copy_File" class="selected">Copy File</a>
            </li>
        </ul>
        <p>Type <code>esentutl </code>at the command prompt for a full list of options.</p>
        <h3><a name="Defragmentation"></a>Defragmentation</h3>
        <p>This option performs off-line compaction of the database on .dat.edb files. Defragmentation is recommended to help improve performance. This option requires that the DBS-based service be stopped.</p>
        <h4>Syntax</h4>
        <p class="Syntax">esentutl /d &lt;database file name&gt; [options]</p>
        <h4>Recommended Options</h4>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 450px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/b &lt;database file name&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Creates a backup copy of the database prior to defragmentation using the specified file name.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>/p</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Saves the defragmented database under the temporary file name.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/t &lt;database file name&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Sets the name of the temporary database file. Default is TEMPDFRG*.edb.</p>
                </td>
            </tr>
        </table>
        <p class="Example">Example</p>
        <p class="Indent">The following example defragments the ELS database and saves the new defragmented file with the name <i>els.dat.edb.new</i>.</p>
        <table class="Code">
            <tr>
                <td>
                    <p class="Code">esentutl /d els.dat.edb /t els.dat.edb.new /p</p>
                </td>
            </tr>
        </table>
        <h3><a name="Recovery"></a>Recovery</h3>
        <p>CygNet recommends that you use the <a href="DBS Restore Backup Utility.htm">DBS Restore Backup</a> utility rather than this option.</p>
        <p>The option performs a soft recovery to overcome database errors by bringing the database to a consistent state. ESENTUTL rebuilds the database using the transaction log files. Recovery is recommended when you need to perform a soft database recovery. This option requires that the DBS-based service be stopped.</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> Use <a href="DBS Restore Backup Utility.htm">DBS Restore Backup</a> for a hard recovery.</p>
        </div>
        <h3><a name="Integrity"></a>Integrity</h3>
        <p>This option verifies that the database is in an operational state and doesn’t contain any structural errors. It is used on service .dat.edb and .inx.edb files. This option requires that the DBS-based service be stopped.</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> An Integrity check does not run database recovery. If a database is in a "Dirty Shutdown" state it is strongly recommended that before proceeding with an integrity check, Recovery (/r) is first run to properly complete database operations for the previous shutdown.</p>
        </div>
        <h4>Syntax</h4>
        <p class="Syntax">esentutl /g &lt;database name&gt; [options]</p>
        <h4>Recommended Options</h4>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 450px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/t&lt;db&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Defines the temporary database name.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>/f&lt;name&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Set a prefix to use for name of report files.</p>
                </td>
            </tr>
        </table>
        <h3><a name="Checksum"></a>Checksum</h3>
        <p>This option verifies the checksum of each page of the database. It is used on service .dat.edb and .inx.edb files. This option requires that the DBS-based service be stopped.</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> A Checksum operation does not run database recovery.</p>
        </div>
        <h4>Syntax</h4>
        <p class="Syntax">esentutl /k &lt;file name&gt; [options]</p>
        <h4>Recommended Options</h4>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 450px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/t&lt;db&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Defines the temporary database name. </p>
                </td>
            </tr>
        </table>
        <h3><a name="Repair"></a>Repair</h3>
        <p>This option repairs a damaged or corrupted database file. Run it after a Recovery (/r) to ensure the database is in a consistent state. This option does not apply data from transaction log files to the database. It may result in loss of data. The option is used on service .dat.edb files. Repair is recommended when you need to manually repair a database. This option requires that the DBS-based service be stopped.</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> <span class="CygNetVariablesSoftwareName">CygNet Software</span> recommends restoring from a backup (with <a href="DBS Restore Backup Utility.htm">DBS Restore Backup Utility</a>) over running a Repair operation, as a Repair does not necessarily leave the database in a “CygNet-consistent” manner. If you don’t have a backup and you need to run the Repair option, run <a href="File Check ESE Utility.htm">File Check ESE</a> and <a href="ReIndex ESE Utility.htm">ReIndex ESE</a>.</p>
        </div>
        <h4>Syntax</h4>
        <p class="Syntax">esentutl /p &lt;database name&gt; [options]</p>
        <h4>Recommended Options</h4>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 450px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/t&lt;db&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Defines the temporary database name.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>/f&lt;name&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Set a prefix to use for name of report files.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/g</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Run an integrity check before repairing.</p>
                </td>
            </tr>
        </table>
        <h3><a name="File_Dump"></a>File Dump</h3>
        <p>This option dumps database, system, or log file information to the screen and optionally to a file. File Dump is useful for troubleshooting, for example, when you want to check shutdown state or to check log file information. This option requires that the DBS-based service be stopped.</p>
        <h4>Syntax</h4>
        <p class="Syntax">esentutl /m[mode-modifier] &lt;file name&gt; [options] </p>
        <h4>Mode Modifiers</h4>
        <p>An optional letter designating the type of file dump to perform. Note that there is no space between <b>m</b> and the <b>mode-modifier</b>.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Modifier</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>h</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Dump database header (default)</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>k</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Dump checkpoint file</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>l</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Dump log file or set of logs</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>m</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Dump meta-data</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>s</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Dump space usage</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>u</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Dump undefined codepoint fixup table</p>
                </td>
            </tr>
        </table>
        <h4>File Name</h4>
        <p>The name of the file to dump. The type of the specified file must match the dump type being requested. For example, if using <b>/mh</b> then <b>&lt;file name&gt;</b> must be the name of a database. </p>
        <h4>Recommended Options</h4>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 450px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/t&lt;table&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Performs a database dump for a specified table only.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>/v</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Provide verbose output.</p>
                </td>
            </tr>
        </table>
        <h3><a name="Copy_File"></a>Copy File</h3>
        <p>This option copies a database or log file to a secondary location. This option requires that the DBS-based service be stopped.</p>
        <h4>Syntax</h4>
        <p class="Syntax">esentutl /y &lt;source file&gt; [options]</p>
        <h4>Recommended Options</h4>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 450px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">
                        Definition
                    </th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>/d &lt;directory name&gt;</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The directory name where you want to copy the file.</p>
                </td>
            </tr>
        </table><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>