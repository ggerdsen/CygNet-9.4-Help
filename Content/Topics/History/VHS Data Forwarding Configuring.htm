<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="History|VHS Data Forwarding">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Configuring VHS Data Forwarding</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="History.htm">History</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="VHS Data Forwarding.htm">VHS Data Forwarding</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Configuring VHS Data Forwarding</span>
        </div>
        <h2>Configuring VHS Data Forwarding</h2>
        <p>VHS Data Forwarding is defined in the source <a href="../Service Configuration Keywords/VHS Configuration File Keywords.htm">VHS configuration file</a> (Vhs.cfg). The <b>DESTINATION_*</b> and <b>FORWARDING_*</b> keywords define data forwarding to the first service. <b>DESTINATION_2_*</b> and <b>DESTINATION_3_*</b> keywords define data forwarding to the second and third services, respectively. The destination sites are not sequential. That is, you can enable <b>DESTINATION_3</b> without enabling <b>DESTINATION_2</b>. </p>
        <p class="Image">
            <img src="../../Resources/Images/History/Data Forwarding Keywords.png" />
        </p>
        <h3><a name="Configur"></a>Configuration Keywords</h3>
        <p>The only required keyword for VHS Data Forwarding is the <b>DESTINATION_SERVICE</b>. The other keywords have default parameters. However, if the parameters for the first destination service (<b>DESTINATION_SERVICE</b>) have been customized, these will serve as the defaults for the second and third sites (<b>DESTINATION_2_SERVICE</b> and <b>DESTINATION_3_SERVICE</b>). </p>
        <table style="caption-side: top;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" cellspacing="0" class="TableStyle-HelpTable2">
            <col style="width: 225px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Keyword</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>DESTINATION_SERVICE</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The name of the service to which forwarded data will be sent. The format is [DDDD]Site.Service where DDDD is replaced by the CygNet Domain where the history forwarder service is running.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>FORWARDING_INTERVAL</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>This keyword can be used to define a "send interval" for forwarding messages. The source VHS compresses data into forward messages. Once the message is full it is sent to the destination VHS. If the message is not full by the specified "send interval" it is sent anyway. When active, the forwarding message will be sent to the destination VHS once the message is full or when the send interval is met, whichever comes first. The interval keyword value <i>must</i> specify an integer and an interval: s=seconds, m=minutes, h=hours, or d=day.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>FOWARDING_QUEUE_EXPIRATION</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The amount of time (in seconds, minutes, hours, or days) a message will be stored in the queue. Once a message exceeds the defined period it will be deleted from the queue. This keyword is used to manage the size of the queue. The queue time keyword value <i>must</i> specify an integer and an interval: s=seconds, m=minutes, h=hours, or d=day.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>FORWARDING_MAX_BACKLOG</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>The maximum number of messages the queue is allowed to hold. When a new message is queued and the maximum backlog is exceeded, either the oldest or newest message will be dropped (depends on setting of the keyword FORWARDING_EXPIRE_TYPE). This keyword is used to manage the size of the queue.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>FORWARDING_EXPIRE_TYPE</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Determines which messages to delete (the oldest or newest message) when the queue reaches its maximum backlog.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>FORWARDING_RESPONSE_TIMEOUT</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>The number of seconds the source VHS will wait for a response from the destination VHS for an acknowledgment of receipt before it tries resending a replication response message. The response time keyword value <i>must</i> specify an integer and an interval: s=seconds, m=minutes, h=hours, or d=day.</p>
                </td>
            </tr>
        </table>
        <p class="HeadingProcedure">To Configure and Start VHS History Forwarding</p>
        <ol start="1">
            <li value="1">Open the source VHS configuration.</li>
            <li value="2">Enable the set(s) of History Forwarding keywords. </li>
            <li value="3">Type the parameters for the keywords.</li>
            <li value="4">Save the changes and close the file.</li>
            <li value="5">Stop and restart the source VHS so the configuration changes take effect.</li>
            <li value="6">Add a dedicated RSM for the destination VHS. This step is optional but recommended.</li>
            <li value="7">Add the destination VHS to the system and start it.</li>
        </ol>
        <ol start="1" class="Lower_alpha">
            <li value="1">If the destination VHS is on the same server as the source VHS, the <b>SVC_PORT</b> keyword will need to be changed in the destination service so that it does not conflict with the port the source VHS is running on.</li>
            <li value="2">You may wish to change the <b>MINIMUM_EXPIRE_DAYS</b> keyword in the destination service to allow history to be retained for a longer period than the source VHS.</li>
        </ol>
        <ol start="8">
            <li value="8">Data is written to a destination VHS as it is collected by the source. It does not backfill automatically. If you wish to backfill the destination VHS with all data from the source VHS use the <a href="VHS Import Export Utility.htm">VHS Import/Export</a> utility. This step is optional. </li>
        </ol><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>