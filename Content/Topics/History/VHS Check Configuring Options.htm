<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="History|VHS Utilities|VHS Check Utility">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Configuring Check Options</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="History.htm">History</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="VHS Utilities.htm">VHS Utilities</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="VHS Check Utility.htm">VHS Check Utility</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Configuring Check Options</span>
        </div>
        <h2>Configuring Check Options</h2>
        <p>VHS Check has three <b>Check Options</b>: <b>Minimum File Check</b>, <b>Medium File Check</b>, and <b>Maximum File Check</b>. </p>
        <p class="Image">
            <img src="../../Resources/Images/History/VHS Check Options.png" />
        </p>
        <h3>VHS Check Options for ESE-Based Datastore Files</h3>
        <table class="TableStyle-HelpTable2" style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">VHS Check Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1"><b>Minimum File Check</b>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <ul class="table">
                            <li value="1">Checks the VHS Check utility version against the VHS schema version.</li>
                            <li value="2">Checks VHS datastore provided by the user against the current ESE-based VHS schema.</li>
                            <li value="3">Checks if previous shutdown was bad.</li>
                        </ul>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2"><b>Medium File Check</b>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                            <li value="2">Checks statistics (value count, earliest/latest date).</li>
                        </ul>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body1"><b>Maximum File Check</b>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body1">
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                            <li value="2">Checks orphaned values (potential data loss).</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3>VHS Check Options for Legacy Data Files</h3>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> While the VHS legacy datastore type is now obsolete, you can still run any VHS utility against a VHS legacy datastore.</p>
        </div>
        <table class="TableStyle-HelpTable2" style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">VHS Check Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1"><b>Minimum File Check</b>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>The <b>Minimum File Check</b> is a cursory check. It cleans up the bad shutdown and checks data file statistics. For legacy data files, the <b>Minimum File Check</b> takes approximately five minutes per gigabyte of data.</p>
                        <p><b>Names File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks names file statistics and file size for validity.</li>
                            <li value="2">Checks all names file entries to make sure statistics such as tag, oldest/newest time, and index and value file offsets are valid.</li>
                        </ul>
                        <p><b>Index File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks the index file free list to verify valid free list pointers.</li>
                            <li value="2">Traverses the index file free list blocks to verify previous block pointers, verify that blocks in free list have no index entries, and verify that the number of blocks found equals the block count statistic.</li>
                        </ul>
                        <p><b>Values File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks the values file free list to verify valid free list pointers.</li>
                            <li value="2">Traverses the values file free list blocks to verify previous block pointers, verify that blocks in free list have no value entries, and verify that the number of blocks found equals the block count statistic.</li>
                            <li value="3">Verifies valid size of value block list.</li>
                            <li value="4">For each tag, verify validity of head/tail value blocks pointers.</li>
                        </ul>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2"><b>Medium File Check</b>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p><b>Names File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                        </ul>
                        <p><b>Index File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                            <li value="2">Verifies valid size of index block list.</li>
                            <li value="3">For each tag, traverses time index block list to verify previous block pointers, time index block count, oldest time statistic, and that all entries are ordered correctly by time. A time index block list error can cause a index file rebuild if fixes are turned on.</li>
                        </ul>
                        <p><b>Values File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                        </ul>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body1"><b>Maximum File Check</b>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body1">
                        <p><b>Names File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                        </ul>
                        <p><b>Index File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                        </ul>
                        <p><b>Values File Check</b>
                        </p>
                        <ul class="table">
                            <li value="1">Checks all steps in previous check.</li>
                            <li value="2">For each tag, traverses the value block list and looks for cycles in the list, checks value block counts and oldest/newest times for validity, verifies that each value entry has a valid timestamp and value entries are ordered correctly by time.</li>
                            <li value="3">Block counts, value counts, oldest time, and newest time are calculated and compared against name statistics.</li>
                            <li value="4">If a value block fails one of these criteria, the index file will be rebuilt.</li>
                            <li value="5">If a cycle is found and fixes are turned on then the list is truncated and clipped.</li>
                            <li value="6">Orphan blocks are returned to free list.</li>
                            <li value="7">If an index file rebuild is not scheduled, the index file will be checked against its value blocks.  Time index entries are checked to make sure they have corresponding value block entries in the values file and that the oldest time in the index entry matches the actual oldest time of the value block.  If this check comes up clean, then it is verified that the order that time index entries appear is the same order that associated value blocks appear.</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>