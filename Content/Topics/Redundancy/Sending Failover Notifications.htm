<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Redundancy|Monitoring Redundancy and Failover">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Sending Failover Notifications</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="Redundancy.htm">Redundancy</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Monitoring Redundancy.htm">Monitoring Redundancy and Failover</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Sending Failover Notifications</span>
        </div>
        <h2>Sending Failover Notifications</h2>
        <p>A GNS running on a Bastion host server can be configured to send notifications to alert users that a failover is occurring within the redundancy environment. The GNS sending the notifications is not configured for redundancy. Several failover-related attributes are passed from the redundant RSM to the reporting GNS, which in turn resolve to the following dynamic tokens:</p>
        <table class="TableStyle-HelpTable2" style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" cellspacing="0">
            <col style="width: 200px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">GNS Token</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">%failover_active_domain%</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>The active domain.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">%failover_comment%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>The comment associated with the failover.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">%failover_scope%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>The type or scope of the failover. For example, "Local" or "Data Center."</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">%failover_set_name%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>The name of the failover set configured in the redundancy definition:</p>
                        <ul class="table">
                            <li value="1">For a local failover set, the token returns the name of the data center and the network, for example, "Houston – Production network"</li>
                            <li value="2">For a data-center failover set, the token returns the names of the two data centers.</li>
                        </ul>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">%failover_standby_domain%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>The standby domain.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">%failover_type%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>This token will return the type of failover, whether soft or hard.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">%initiating_user%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>The username of the person who initiated the failover.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">%master_rsm%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>The RSM where the failover was triggered.  This is usually the standby RSM that will become the active RSM.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">%services_in_failover%	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>The CygNet services participating in the failover. Since there is usually more than one, this will return as a comma delimited list.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body2">%time%	</td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body2">
                        <p>This token will return the time at which the failover was first triggered.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h4>GNS Message Editor</h4>
        <p>These tokens can be used to configure a notification message for a GNS Event record in the GNS message editor. For example, you could configure the following message to be sent from the GNS when a failover is triggered:</p>
        <table class="Code" style="width: 800px;">
            <tr>
                <td>
                    <p class="Code"><b style="color: #0000ff;">%initiating_user%</b> has initiated a <b style="color: #0000ff;">%failover_type%</b> failover for the <b style="color: #0000ff;">%failover_set_name%</b>.  This is a <b style="color: #0000ff;">%failover_scope%</b> failover between the <b style="color: #0000ff;">%failover_active_domain%</b> and <b style="color: #0000ff;">%failover_standby_domain%</b> domains.</p>
                    <p class="Code">&#160;</p>
                    <p class="Code">Services affected: <b style="color: #0000ff;">%services_in_failover%</b></p>
                    <p class="Code">&#160;</p>
                    <p class="Code">Reason: <b style="color: #0000ff;">%failover_comment%</b></p>
                </td>
            </tr>
        </table>
        <p>The GNS will substitute each token with the appropriate value, resulting in the following notification. (The dynamic value is shown in bold.)</p>
        <table class="Code" style="width: 800px;">
            <tr>
                <td>
                    <p class="Code"><b style="color: #0000ff;">ABC\Bob.Smith</b> has initiated a <b style="color: #0000ff;">Soft</b> failover for the <b style="color: #0000ff;">Houston – Production Network</b>. This is a <b style="color: #0000ff;">Local</b> failover between the <b style="color: #0000ff;">5412</b> and <b>5413</b> domains.
						</p>
                    <p class="Code">&#160;</p>
                    <p class="Code">The services affected are: <b style="color: #0000ff;">CYGNET.UIS, CYGNET.DDS, CYGNET.FAC, CYGNET.PNT, CYGNET.VHS</b></p>
                    <p class="Code">&#160;</p>
                    <p class="Code">Reason: <b style="color: #0000ff;">The CPU was running high on the active server so I moved a couple services to the standby domain to try and isolate the cause.</b></p>
                </td>
            </tr>
        </table>
        <p>Note that the tokens are not available for direct selection from the token lists in the GNS message editor, but you can type the tokens manually and they will be recognized.</p>
        <p>
            <img src="../../Resources/Images/Redundancy/GNS_Failover_Initiated.png" />
        </p>
        <p>The only other tokens that can be used in these types of notifications messages are those in the <b>Notification Timeout</b> category (<b>Expiration time</b> and <b>Time in seconds</b> remaining). None of the other tokens (Notification Current Values, Current Values, Point, or Facility) will work for this type for message.</p>
        <p>
            <img src="../../Resources/Images/Redundancy/GNS_Tokens.png" />
        </p>
        <h4>Configure the Reporting GNS</h4>
        <p>Once you have configured the GNS Event notification and message, you can specify the <b>Reporting GNS</b> that will send the notification and associate the appropriate <b>GNS event</b> with each step in the redundancy workflow from  the <a href="Redundancy Editor - Network.htm#Reporting_GNS">CygNet Redundancy Editor</a> as shown below.</p>
        <p>
            <img src="../../Resources/Images/Redundancy/GNS_Redundancy_editor.png" />
        </p><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>