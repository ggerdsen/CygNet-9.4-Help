<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="OPC|CygNet OPC Servers">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Mapping Point State to OPC Quality and Sub-Status</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="OPC.htm">OPC</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="CygNet OPC Servers.htm">CygNet OPC Servers</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Mapping Point State to OPC Quality and Sub-Status</span>
        </div>
        <h2>Mapping Point State to OPC Quality and Sub-Status</h2>
        <p>The CygNet OPC DA and CygNet OPC HDA servers provide a sophisticated method for mapping "point state" to OPC quality and sub-status values. The CygNet <a href="../Points/Understanding the CvsMetadata File.htm">CvsMetadata</a> XML file provides default mappings from the defined "point states" and "point state instances" for Point Scheme 0 to the OPC quality and sub-status values as follows.</p>
        <table style="margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">CygNet Scheme 0 Point State</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Quality/Sub-status Byte</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">NORMAL	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>Hex 0xC0, decimal 192, OPC Quality = "Good"</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">UNRELIABLE	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>Hex 0x44, decimal 68, OPC Quality = "Uncertain", Sub-status = "Last Usable Value"</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body1">UNINITIALIZED	</td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body1">
                        <p>Hex 0x08, decimal 8, OPC Quality = "Bad", Sub-status = "Not Connected"</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> When data is retrieved from  the OPCHDA server the OPC quality property is also returned, appended with a sub-status of OPCHDA_RAW (if timestamp is exact) or OPCHDA_INTERPOLATED (if timestamp is interpolated).</p>
        </div>
        <p>Additionally, existing custom Point Scheme definitions can be modified to customize the mapping of the user-defined "point states" and "point state instances" to the desired OPC quality and sub-status values.  The CygNet OPC  Servers load the CVS Metadata XML and resolve the appropriate OPC quality and sub-status values based on highest precedence "point state." See Point State Definitions <a href="../Points/XML PointStateDefinitions.htm#ExtStatus">ext_status</a>.</p>
        <p>The CygNet OPC  Servers will also set the OPC quality and sub-status values, regardless of resolved point state, based on the following conditions.</p>
        <table style="margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">OPC Server</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Quality/Sub-status Byte</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Unknown tag</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">Hex 0x01, decimal 1, OPC Quality = "Bad", Sub-status = "Configuration error"</td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">Unknown point scheme</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>Hex 0x01, decimal 1, OPC Quality = "Bad", Sub-status = "Configuration error"</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Failed to connect to CygNet</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">Hex 0x18, decimal 24, OPC Quality = "Bad", Sub-status = "Comm. Failure"</td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body2">CygNet message response error	</td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body2">
                        <p>Hex 0x18, decimal 24, OPC Quality = "Bad", Sub-status = "Comm. Failure"</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>If the CygNet CVS Metadata XML file fails to load when the CygNet OPC Server starts the following will occur:</p>
        <ul>
            <li value="1">A warning is added to the log  file and displayed on the status bar of the <b>CygNet OPC Server</b> dialog box.</li>
            <li value="2">The CygNet OPC Server will continue to try to load the CVS Metadata until the CVS Metadata no longer fails to load.</li>
            <li value="3">The CygNet OPC Server will revert back to the old OPC server behavior, described below:</li>
        </ul>
        <table style="margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">OPC Server</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Quality/Sub-status Byte</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Success	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>Hex 0xC0, decimal 192, OPC Quality = "Good"</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">Unknown tag	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>Hex 0x01, decimal 1, OPC Quality = "Bad", Sub-status = "Configuration error"</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Failed to connect to CygNet	</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>Hex 0x18, decimal 24, OPC Quality = "Bad", Sub-status = "Comm. Failure"</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body2">CygNet message response error	</td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body2">
                        <p>Hex 0x18, decimal 24, OPC Quality = "Bad", Sub-status = "Comm. Failure"</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The difference between the new and the old behavior is that on Success the OPC servers will return "Good" instead of mapping the point state to an OPC quality and sub-status value.</p>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>