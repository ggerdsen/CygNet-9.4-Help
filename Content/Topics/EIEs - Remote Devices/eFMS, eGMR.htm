<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Devices|Remote Devices|Device Template Files|Elements and Attributes">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>eFMS, eGMR</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="../Devices/Devices.htm">Devices</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="EIE Remote Devices.htm">Remote Devices</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Device Template Files.htm">Device Template Files</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Elements and Attributes.htm">Elements and Attributes</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">eFMS, eGMR</span>
        </div>
        <h2>eFMS, eGMR</h2>
        <p><b>eFMS</b> and <b>eGMR</b> elements are specialized elements that identify CygNet-defined FMS or or FMS Legacy items to be referenced in a device template file. They are a means of mapping field device data to FMS or or FMS Legacy; each FMS or or FMS Legacy item depends on a data source that is specified as part of the FMS or or FMS Legacy item.</p>
        <p>This element is:</p>
        <ul>
            <li value="1">Case sensitive</li>
            <li value="2">Required for certain  EIEs that are FMS  or FMS Legacy enabled</li>
            <li value="3">Used at least 1 time per <b><i>efm</i>Items</b> section in a CygNet device template file</li>
        </ul>
        <p>To learn about how this element relates to other elements in a CygNet device template file, see           <a href="Template File Hierarchy.htm">Template File Hierarchy</a>.</p>
        <p>See also <a href="EFM Data Items.htm">EFM Data Items</a> and <a href="Data Groups - EFM Data Groups.htm">EFM Data Groups</a>.</p>
        <p class="Example">Example</p>
        <table class="Code">
            <tr>
                <td>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Click here to see an example of the element</a></span>
                        <div class="MCDropDownBody dropDownBody">
                            <p class="Code">&#160;</p>
                            <p class="Code">&lt;fmsMaps&gt;</p>
                            <p class="Code2">&lt;configItems&gt;</p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;eFMS_CFG_METER_TYPE deid="RunType" mapVal="FmsMeterType"/&gt;</span>
                            </p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;eFMS_CFG_CONTRACT_HOUR deid="ContHr"/&gt;</span>
                            </p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;eFMS_CFG_CALC_METHOD_PRIMARY deid="M2530Raw mapVal="FmsMethodO"&gt;</span>
                            </p>
                            <p class="Code4">&lt;when andOr="or"&gt;</p>
                            <p class="Code5">&lt;RunType op="LE" value="1"/&gt;</p>
                            <p class="Code4">&lt;/when&gt;</p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;/eFMS_CFG_CALC_METHOD_PRIMARY&gt;</span>
                            </p>
                            <p class="Code2">&lt;/configItems&gt;</p>
                            <p class="Code2">&lt;eventItems&gt;</p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;eFMS_DEVICE_EVENT_TYPE_DATE regNum="6076"/&gt;</span>
                            </p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;eFMS_DEVICE_EVENT_TYPE_TIME regNum="6077"/&gt;</span>
                            </p>
                            <p class="Code2">&lt;/eventItems&gt;</p>
                            <p class="Code2">&lt;histItems&gt;</p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;eFMS_PV_DIFF_PRESSURE deid="DP"&gt;</span>
                            </p>
                            <p class="Code4">&lt;when andOr="and"&gt;</p>
                            <p class="Code5">&lt;RunType op="NE" value="2"/&gt;</p>
                            <p class="Code5">&lt;RunType op="NE" value="3"/&gt;</p>
                            <p class="Code4">&lt;/when&gt;</p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;/eFMS_PV_DIFF_PRESSURE&gt;</span>
                            </p>
                            <p class="Code3"><span style="background-color: #b0c4de;">&lt;eFMS_PV_LINE_PRESSURE deid="SP"/&gt;</span>
                            </p>
                            <p class="Code2">&lt;/histItems&gt;</p>
                            <p class="Code">&lt;/fmsMaps&gt;</p>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <h3>Attributes</h3>
        <p>The following table lists and describes attributes generally applicable to this element. However, not all of the attributes listed here are applicable to all EIEs. Additionally, some attributes are required for use in every device template file of a certain EIE, but others may be used on a case-by-case or device-by-device basis, depending on your specific needs. All attributes in templates are case sensitive; but the case sensitivity of attribute values is based on context.</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> Occasionally, device template files for different EIEs use attributes of the same name that do different things. Efforts are made in this document to highlight cases where an attribute by one name does different things in different EIEs.</p>
        </div>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> If you include no attributes within an FMS Legacy data item, the EIE driver calculates the value for the FMS Legacy data item and sends that value to the service.</p>
        </div>
        <table style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;caption-side: top;" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Attribute</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>bMsk</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p><b>bMsk</b> (bit mask) performs a bitwise <b>AND</b> operation on a referenced value when multiple bits are to be affected. <b>bMsk</b> cannot be used in the same element as <b>bPos</b>. </p>
                    <p>To make this attribute meter specific, append <b>_ord</b><i style="font-weight: bold;">n</i> to the attribute. For example, <b>bMsk_ord1</b>.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Requires a positive whole number. Can be hex. If using hex, the hex number must start with 0x (i.e., 0xF, 0x0F, 0x00F, or 0x000F).</li>
                        <li value="2">Must be greater than or equal to 1 (0x1 hex).</li>
                        <li value="3">Must fit in a 32-bit field.</li>
                        <li value="4">Default is <b>unsigned</b> bit shift, but may be overridden with <a href="ref.htm#bitShift">bitShift</a> to indicate whether to shift off the masked low bits.</li>
                    </ul>
                    <p>See also <a href="Bit Mask.htm">Bit Mask Examples</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>bPos</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p><b>bPos</b> (bit position) requests the binary value of the bit in the bit position specified. <b>bPos</b> cannot be used in the same element as <b>bMsk</b>.</p>
                    <p>To make this attribute meter specific, append <b>_ord</b><i style="font-weight: bold;">n</i> to the attribute. For example, <b>bPos_ord1</b>.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Requires non-negative decimal or hex numbers only. If using hex, the hex number must start with 0x (i.e., 0xF, 0x0F, 0x00F, or 0x000F).</li>
                        <li value="2">Must be greater than or equal to 0 (0x0 hex) and less than or equal to 31 (0x1F).</li>
                        <li value="3">0 - 7 are valid for an 8-bit field. 0 - 15 are valid for a 16-bit field. 0 - 31 are valid for a 32-bit field.</li>
                        <li value="4">Always does an <b>unsigned</b> bit shift.</li>
                    </ul>
                    <p>See also <a href="Bit Position.htm">Bit Position Examples</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p><a name="deid"></a>deid</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p><b>deid</b> specifies  the data group element ID (DEID) of a referenced data group element from which to use a value.</p>
                    <p><b>eFMS</b> and <b>eGMR</b> elements usually require <b>deid</b>. However, in special cases a register number (<a href="#regNum" class="selected">regNum</a>) can be used instead of a <b>deid</b> value to associate a data item with a data source.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Any DEID of a valid source <i>DataGroupElement</i> element within the same data group as <b>deid</b>.</li>
                        <li value="2">The <b>deid</b> value cannot be recursive; that is, it cannot reference the <i>DataGroupElement</i> element of which it is a part.</li>
                        <li value="3">The source <i>DataGroupElement</i> element cannot itself be a reference <i>DataGroupElement</i> element.</li>
                    </ul>
                    <p>See also <a href="ref.htm">ref</a> and <a href="selection element.htm">selection</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>deidFlow</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p><b>deidFlow</b> is only applicable in <a href="FB Net EIE.htm">FB Net EIE</a> templates. When different overall average and flowing average values are available from a field device, use <b>deid</b> to identify the overall average and <b>deidFlow</b> to identify the flowing average.</p>
                    <p>If the field device records a non-zero flow time for a history interval, the value represented by <b>deidFlow</b> is recorded to the EFM data group. When the flow time is zero, the value represented by <b>deid</b> is recorded.</p>
                    <p>For devices that do not maintain a flowing average, specify only the <b>deid</b> attribute.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Any name of a valid source data group element within the same template as <b>deidFlow</b>.</li>
                    </ul>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>mapVal</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p><b>mapVal</b> maps an enumeration table keyword to an enumeration table of the same name.</p>
                    <p>The referenced table can be scoped to a data group element, scoped to a device template file (using an <a href="enums Element.htm">enums</a> table), or be one of several <a href="Enumeration Mapping.htm#Global3">global tables</a>. First the data group element in which the <b>mapVal</b> attribute is defined is searched for a table local to it. If no such table is found, a wider search occurs in which the device template file and the global tables are searched for a corresponding enumeration table of the same name.</p>
                    <p><b>mapVal</b> can be used in both a <a href="Basic and Advanced Reference Methods.htm">basic reference method</a> and an <a href="Basic and Advanced Reference Methods.htm">advanced reference method</a> in similar ways. In a basic reference method, <b>mapVal</b> must be defined in-line along with a <a href="DataGroupElement Element.htm#ref">ref</a> attribute. In an advanced reference method, if <b>mapVal</b> is used, it must be defined in-line along with a <a href="ref.htm#refOp">refOp</a> attribute set to <a href="Available Reference Operations.htm#opMapVal">opMapVal</a>.</p>
                    <p>If the <b>mapVal</b> attribute references an enumeration table in a device template file, a drop-down menu containing the defined enum values will display when editing the specified data group element value on the data group's <b>View Data</b> dialog box. The enumeration values must be unique for the values to display in a drop-down menu.</p>
                    <p>(In an <b>eFMS</b> or <b>eGMR</b> element, <b>mapVal</b> is used in combination with the <b>deid</b> attribute, which maps the <b>eFMS</b> or <b>eGMR</b> element to a value.)</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Must match the name of the applicable enumeration table.</li>
                        <li value="2">Must be unique within the applicable scope so that no name conflicts occur.</li>
                    </ul>
                    <p>See also <a href="enums Element.htm">enums</a> and <a href="Enumeration Mapping.htm#Enumerat">Enumeration Mapping Examples</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p><a name="regNum"></a>regNum</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p><b>regNum</b> defines a register number when the register number does not appear in any support data group.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Must be a positive whole number.</li>
                    </ul>
                    <p>See also <a href="Defining Measurement Units.htm">Defining Measurement Units</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>scaleFactor</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p><b>scaleFactor</b> defines a constant multiplier. Multiplication is powered by some other mechanism, like the reference operation <a href="Available Reference Operations.htm#opScaleFactor">opScaleFactor</a> or the <b>cvtF</b> conversion method <a href="cvtF Conversion Methods.htm">Scale</a>.</p>
                    <p><b>scaleFactor</b> cannot be used in the same element as <b>scaleFactorId</b>. It also cannot be used in the same element as any two-point scaling attribute, like <b>scaleLoRaw</b>.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Must be an integer or floating point number.</li>
                    </ul>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>scaleOffset</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p><b>scaleOffset</b> adds an input value to a constant value. The original, non-scaled input value must be preserved in a different data group element, typically in the same data group.</p>
                    <p><b>scaleOffset</b> cannot be used in the same element as <b>scaleOffsetId</b>. It also cannot be used in the same element as any two-point scaling attribute, like <b>scaleLoRaw</b>.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Requires a numeral (positive, negative, or float) only.</li>
                    </ul>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p><a name="units"></a>units</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p><b>units</b> defines the unit type by which a value is identified in the DDS. The unit type assigned to a value in the DDS affects how the value is treated if the value is processed as a CygNet point in the PNT. For example, a value in the DDS using <b>units="feet"</b> is converted to meters in the PNT if the primary unit for the corresponding point is <b>m</b> (meter).</p>
                    <p>If a <b>units</b> attribute is used in a <a href="Basic and Advanced Reference Methods.htm">basic reference method</a>, it might perform a conversion on the source value. Make sure that the source value and the destination value are the same or complementary.</p>
                    <p>If a <b>units</b> attribute is used in an <a href="Basic and Advanced Reference Methods.htm">advanced reference method</a>, it might override desired units. Use the <a href="Available Reference Operations.htm#opUnitConversion">opUnitConversion</a> reference operator and its supporting attributes <a href="ref.htm#srcUnits">srcUnits</a> and <a href="ref.htm#destUnits">destUnits</a>.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Any valid unit type. See <a href="../Points/PNT Engineering Units.htm">PNT Engineering Units</a>.</li>
                        <li value="2">If used to convert a unit type from a source data group element to a different destination unit type, the unit types must be complementary. For example, seconds to minutes or hours.</li>
                    </ul>
                    <p>See also <a href="Defining Measurement Units.htm">Defining Measurement Units</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>value</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p><b>value</b> specifies a constant value. The value used must be relevant to the context in which <b>value</b> is used.</p>
                    <h6>Value:</h6>
                    <ul class="table">
                        <li value="1">Depends on context. Often numeric, but may be string in the appropriate circumstance.</li>
                    </ul>
                </td>
            </tr>
        </table><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>