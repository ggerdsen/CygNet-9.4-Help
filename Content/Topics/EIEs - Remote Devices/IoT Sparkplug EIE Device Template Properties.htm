<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Devices|Remote Devices|IoT Sparkplug EIE">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IoT Sparkplug EIE Device Template Properties</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="../Devices/Devices.htm">Devices</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="EIE Remote Devices.htm">Remote Devices</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="IoT Sparkplug EIE.htm">IoT Sparkplug EIE</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Device Template Properties</span>
        </div>
        <h2>IoT Sparkplug EIE Device Template Properties</h2>
        <p>The IoT Sparkplug EIE sample device template file includes unique data group elements and attributes and may include a section specific to this EIE. This topic contains an example of an IoT Sparkplug device template file.</p>
        <h3>Device Template Elements and Attributes for the IoT&#160;Sparkplug EIE</h3>
        <p>Sparkplug defines a standard mechanism for formatting payload data, so very little customization is provided for in the template file. The only customization allowed provides a mapping from payload text strings representing data units to CygNet units.</p>
        <h4>Payload Definition</h4>
        <p>The <b>payloadDef</b> section of an IoT Sparkplug EIE device template file contains information to allow users to interpret payload data for CygNet. This section is optional.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Element</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p><b>mapUnits</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Maps units in the payload to CygNet units. This section is needed only when the payload indicates data units that you want to import into CygNet. </p>
                    <p>For example, CygNet represents kilograms as "kg", while a payload may use the text "KGRAM".  This section of the template file can be used to map the text string "KGRAM" from the payload to "kg" in CygNet.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p class="Indent"><b>e<i>x</i></b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Each enumeration must begin with a lowercase e. It is then to be followed by a "units" text string as defined in the payload (e.g., units "KGRAM" in the payload is represented as <b>eKGRAM</b>.)</p>
                    <p>Each enumeration element must be unique, but its value does not need to be unique. For example, using <b>eKGRAM</b> twice within a single enumeration list is illegal, but using the value "kg" for <b>eKGRAM</b> and <b>eKILOGRAM</b> is legal.</p>
                    <p>Each enumeration must use a value attribute to define  a constant value that corresponds to a valid CygNet unit. See <a href="../Points/PNT Engineering Units.htm">PNT Engineering Units</a>.</p>
                </td>
            </tr>
        </table>
        <h4>Device Definition Attributes</h4>
        <p>The following table lists and describes IoT Sparkplug-specific device definition attributes.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 100px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Attribute</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p><b>class</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Set to "POC" if the payload represents a pump-off controller and includes dynagraph cards. Otherwise the attribute should be omitted.</p>
                </td>
            </tr>
        </table>
        <h4><a name="Data"></a>Data Group Attributes</h4>
        <p>The following table lists and describes IoT Sparkplug-specific data group attributes.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 550px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Attribute</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>setUnreliableOnLostConnection</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>If this value is set to "true", all CygNet points will be set to unreliable upon receipt of a DEATH message for the topic associated with the data group. A DEATH message is issued when the MQTT server loses the connection to the remote device or node.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>uccRecv</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Set to "true" to allow a rebirth request to be issued via UIS command.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>canRecv</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Set to "true" to allow a rebirth request to be issued from CygNet Explorer.</p>
                </td>
            </tr>
        </table>
        <h4>Data Group Elements</h4>
        <p>The following table lists and describes IoT Sparkplug-specific data group elements. These items are identified in the Sparkplug specification, but are optional and may not appear in all payload files.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 550px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Data Group Element ID</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>_topicSeq</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The topic/payload sequence number.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>_topicUuid</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>The topic/payload UUID.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>_topicTime</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The topic/payload data time. This value is used for point processing in the absence of a timestamp associated with each payload item.</p>
                </td>
            </tr>
        </table>
        <h4>Data Group Element Attributes</h4>
        <p>The following table lists and describes IoT Sparkplug-specific attributes of data group elements.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 550px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Attribute</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>itemId</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The name of the item in the payload file. This is used to map an item in a payload file to a CygNet data group element.  It is not used for data group elements <b>_topicSeq</b>, <b>_topicUuid</b>, or <b>_topicTime</b>, which are predefined in the Sparkplug specification.</p>
                    <p>The <b>itemId</b> allows the following substitution strings :</p>
                    <ul>
                        <li value="1">%deviceId%</li>
                        <li value="2">%facilityId%</li>
                        <li value="3">%ordinal%</li>
                    </ul>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>type</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>It is recommended that <b>type</b> variant ("vrnt") be used to preserve the data type provided in the payload.</p>
                </td>
            </tr>
        </table>
        <h3>IoTSparkplug_Sample.dtf</h3>
        <p>The IoTSparkplug_Sample device template file includes data that defines what the Sparkplug payload looks like and where to find specific items in the payload. For more information about the Sparkplug specification, see the <a href="https://s3.amazonaws.com/cirrus-link-com/Sparkplug+Topic+Namespace+and+State+ManagementV2.1+Apendix++Payload+B+format.pdf" target="_blank">Sparkplug Specification</a> document. </p>
        <p>The following example displays  the IoTSparkplug_Sample.dtf.</p>
        <p class="Example">Example</p>
        <table class="Code">
            <tr>
                <td>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Click here to see an example of the template</a></span>
                        <div class="MCDropDownBody dropDownBody">
                            <p class="Code">&#160;</p>
                            <p class="Code">&lt;deviceDefinition deviceType="IoTSparkplugSample" mfg="CygNet" desc="IoT Sparkplug Sample" category="4098" model="Generic" eieType="IoTSparkplug" cygnetVersion="9.2.1000" customerVersion=""&gt;</p>
                            <p class="Code2">&lt;dataGroups udcCat="UDCALL" canSend="false" canRecv="false" uccSend="false" uccRecv="false" udcDefFac="true" baseOrd="0" devDG="false" maxCnt="1" forceSave="true" setUnreliableOnLostConnection="true"&gt;&gt;</p>
                            <p class="Code3">&lt;Topic1 niceName="Topic 1"&gt;</p>
                            <p class="Code4">&lt;dgElements secLev="4" type="vrnt"&gt;</p>
                            <p class="Code5">&lt;_topicSeq desc="Seq #"/&gt;</p>
                            <p class="Code5">&lt;_topicUuid desc="UUID"/&gt;</p>
                            <p class="Code5">&lt;_topicTime desc="Date/time (#)" hidden="true"/&gt;</p>
                            <p class="Code5">&lt;_topicTs desc="Date/time" ref="_topicTime" type="string" format="DateTime"/&gt;</p>
                            <p class="Code5">&lt;SignedI1 desc="Signed byte" <span style="background-color: #b0c4de;">itemId</span>="sbyte1"/&gt;</p>
                            <p class="Code5">&lt;SignedI2 desc="Signed word" <span style="background-color: #b0c4de;">itemId</span>="sword1"/&gt;</p>
                            <p class="Code5">&lt;SignedI4 desc="Signed double word (scaled)" <span style="background-color: #b0c4de;">itemId</span>="sdword1" cvtF="Scale" sourceType="i4" type="r4" scaleFactor=".01" units="in"/&gt;</p>
                            <p class="Code5">&lt;SignedI8 desc="Signed quad word" <span style="background-color: #b0c4de;">itemId</span>="sqword1"/&gt;</p>
                            <p class="Code5">&lt;Unsigned1 desc="Unsigned byte" <span style="background-color: #b0c4de;">itemId</span>="ubyte1"/&gt;</p>
                            <p class="Code5">&lt;Unsigned2 desc="Unsigned  short word" <span style="background-color: #b0c4de;">itemId</span>="uword1"/&gt;</p>
                            <p class="Code5">&lt;Unsigned4 desc="Unsigned double word" <span style="background-color: #b0c4de;">itemId</span>="udword1"/&gt;</p>
                            <p class="Code5">&lt;Unsigned8 desc="Unsigned quad word" <span style="background-color: #b0c4de;">itemId</span>="uqword1"/&gt;</p>
                            <p class="Code5">&lt;Float desc="Float" <span style="background-color: #b0c4de;">itemId</span>="float1"/&gt;</p>
                            <p class="Code5">&lt;Double desc="Double" <span style="background-color: #b0c4de;">itemId</span>="double1"/&gt;</p>
                            <p class="Code5">&lt;Bool desc="Boolean" <span style="background-color: #b0c4de;">itemId</span>="boolean1"/&gt;</p>
                            <p class="Code5">&lt;String desc="String" <span style="background-color: #b0c4de;">itemId</span>="string1"/&gt;</p>
                            <p class="Code4">&lt;/dgElements&gt;</p>
                            <p class="Code3">&lt;/Topic1&gt;</p>
                            <p class="Code2">&lt;/dataGroups&gt;</p>
                            <p class="Code2">&lt;defDataGroups/&gt;
    </p>
                            <p class="Code2">&lt;defUisCmds visible="true" canBeScheduled="true" clientCanInvoke="true" inheritsSecurity="false"/&gt;</p>
                            <p>&lt;/deviceDefinition&gt;</p>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <h3><a name="POC"></a>IoTSparkplug_POC.dtf</h3>
        <p>The IoTSparkplug_POC  sample device template file includes the "Dynagraph Card" (<b>DynaCard</b>) data group. This device represents a pump-off controller, so the device <b>class</b> is identified as "POC" and the template file includes a "Dynagraph Card" (<b>DynaCard</b>) data group. The "Dynagraph Card" data group includes data group elements only to support point processing. If point processing is not desired, they can be omitted.</p>
        <p>The following example displays a section of the IoTSparkplug_POC.dtf. Note the attribute <b>class</b>="POC" in the <b>deviceDefinition</b> section. </p>
        <p>For more information, see <a href="IoT Sparkplug EIE Dynagraph Data Group.htm">IoT Sparkplug EIE&#160;Dynagraph Data Group</a>.</p>
        <p class="Example">Example</p>
        <table class="Code">
            <tr>
                <td>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Click here to see an example of the template</a></span>
                        <div class="MCDropDownBody dropDownBody">
                            <p class="Code">&#160;</p>
                            <p class="Code">&lt;deviceDefinition deviceType="IoTSparkplugPOC" mfg="CygNet" desc="IoT Sparkplug POC" category="4098" model="Generic" eieType="IoTSparkplug"<span style="background-color: #b0c4de;">class="POC"</span> cygnetVersion="9.3.1000" customerVersion=""&gt;
    </p>
                            <p class="Code2">&lt;dataGroups udcCat="UDCALL" canSend="false" canRecv="false" uccSend="false" uccRecv="false" udcDefFac="true" baseOrd="0" devDG="false" maxCnt="1" forceSave="true" setUnreliableOnLostConnection="true"&gt;&gt;</p>
                            <p class="Code3">
        &lt;DynaCard niceName="Dynagraph Card" dgCat="internal" maxCnt="8"&gt;
</p>
                            <p class="Code4">            &lt;dgElements secLev="4" type="vrnt"&gt;</p>
                            <p class="Code5">&lt;SCnt desc="Surface point count"/&gt;</p>
                            <p class="Code5">&lt;SLMin desc="Surface min load"/&gt;</p>
                            <p class="Code5">&lt;SLMax desc="Surface max load"/&gt;</p>
                            <p class="Code5">&lt;DCnt desc="Downhole point count"/&gt;</p>
                            <p class="Code5">&lt;DLMin desc="Downhole min load"/&gt;</p>
                            <p class="Code5">&lt;DLMax desc="Downhole max load"/&gt;</p>
                            <p class="Code5">&lt;HrGgeOff desc="Hours since gauge off" units="hour"/&gt;</p>
                            <p class="Code5">&lt;StrkPeriod desc="Stroke period (secs/stroke)"/&gt;</p>
                            <p class="Code5">&lt;PumpSpeed desc="Pump speed (SPM)"/&gt;</p>
                            <p class="Code5">&lt;StrokeLen desc="Stroke length" units="in"/&gt;</p>
                            <p class="Code4">&lt;/dgElements&gt;</p>
                            <p class="Code3">
        &lt;/DynaCard&gt;</p>
                        </div>
                    </div>
                </td>
            </tr>
        </table><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>