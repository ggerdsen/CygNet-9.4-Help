<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Devices|Remote Devices|IoT Sparkplug EIE">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IoT Sparkplug EIE – Data Groups</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="../Devices/Devices.htm">Devices</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="EIE Remote Devices.htm">Remote Devices</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="IoT Sparkplug EIE.htm">IoT Sparkplug EIE</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Data Groups</span>
        </div>
        <h2>Data Groups</h2>
        <p>With few exceptions, data groups must be defined in a device template file in order for them to be available for use on a remote device. Which data groups are defined by a device template file depends on protocol, device type, and unique configuration.</p>
        <p>CygNet distributes sample device template files for its EIEs, each of which typically serves one or more hardware models along with applicable firmware. Therefore, the data groups described in the table below are only those data groups defined by CygNet in sample device template file(s). Your template(s) might not include some of the data groups described below.  Device template files exist to enable users to customize device configurations; however, CygNet is not responsible for changes made by users.</p>
        <p>For information about data group definitions and device template files, see <a href="Device Template Files.htm">Device Template Files</a>.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 130px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 570px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1" style="text-align: left;">Data Group Type</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1" style="text-align: left;">Usage Notes</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>CmdDev</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1" style="text-align: left;">
                    <p>"Command - Device" data group writes a value to a device-level topic.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>CmdNode</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2" style="text-align: left;">
                    <p>"Command - Edge Node" writes a value to an edge-node topic.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>CfgDg</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1" style="text-align: left;">
                    <p>"Configurable Data Group"</p>
                    <p>See <a href="IoT Sparkplug EIE Configurable Data Group.htm">Configurable Data Group</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p>DynaCard</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2" style="text-align: left;">
                    <p>"Dynagraph Card"</p>
                    <p>See <a href="IoT Sparkplug EIE Dynagraph Data Group.htm">IoT Sparkplug EIE Dynagraph Card Data Group</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p>Topic1</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1" style="text-align: left;">
                    <p>"Topic 1" is a sample data group demonstrating how to set up a data group.</p>
                </td>
            </tr>
        </table>
        <h3>Data Group Properties</h3>
        <p>In the IoT Sparkplug EIE, each data group corresponds to a subscription to an MQTT topic. IoT Sparkplug EIE data groups include properties and fields specific to the IoT Sparkplug device. </p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> The IoT Sparkplug &#160;EIE "Dynagraph Card" (<b>DynaCard</b>) data group requirements differ slightly from other data group types. For more information, see <a href="IoT Sparkplug EIE Dynagraph Data Group.htm">IoT Sparkplug EIE&#160;Dynagraph Data Group</a>.</p>
        </div>
        <p>
            <img src="../../Resources/Images/EIEs - Remote Devices/IoT_Sparkplug_Data Group Properties.png" title="IoT Sparkplug EIE Data Group Properties" alt="IoT Sparkplut EIE Data Group Properties" />
        </p>
        <h4><a name="IoT"></a>IoT Sparkplug Data Group Properties</h4>
        <p>The following table lists and describes properties specific to the IoT Sparkplug EIE <b>Data Group Properties</b> dialog page. See the <a href="IoT Sparkplug EIE Dynagraph Data Group.htm">IoT Sparkplug EIE&#160;Dynagraph Data Group</a> topic for specific requirements for DynaCards.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col style="width: 550px;" class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Property</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1" style="font-weight: bold;" colspan="2">Topic</td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p class="Indent"><b>Group ID</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>A Sparkplug topic group ID is a logical grouping of MQTT Edge of Network (EoN) nodes into the MQTT server and back out to the subscribing clients.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p class="Indent"><b>Edge node ID</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>A Sparkplug topic edge node ID uniquely identifies the MQTT Edge of Network (EoN) node within the infrastructure.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p class="Indent"><b>Device ID</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>A Sparkplug topic device ID is an optional field entered by the user that identifies a device attached to the MQTT EoN node.</p>
                    <p>For more information, see <a href="#Topic" class="selected">Topic Options for Data Group Properties Dialog</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p class="Indent"><b>QoS</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>When <b>Use comm default</b> is unchecked, the data group uses the value entered in this field.</p>
                    <p>Values are:</p>
                    <ul class="table">
                        <li style="font-weight: normal;" value="1">0 (message delivered to the server at most once)</li>
                        <li style="font-weight: normal;" value="2">1 (message delivered to the server at least once)</li>
                        <li style="font-weight: normal;" value="3">2 (message delivered to the server exactly once)</li>
                    </ul>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="font-weight: bold;">
                    <p class="Indent"><b>Use comm default</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>When checked, the data group uses the <b>Default QoS</b> value specified in the device editor of the associated MQTT comm device.  When unchecked, the data group uses the value specified in the <b>QoS</b> field of the <b>Data Group Properties</b> dialog.</p>
                    <p>For more information, see <a href="../EIEs - Communication Devices/MQTT Comm EIE.htm">MQTT Comm EIE</a>.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="font-weight: bold;">
                    <p class="Indent"><b>Payload format </b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Format of the payload data.</p>
                    <p>Options are:</p>
                    <ul class="table">
                        <li value="1"><b>JSON</b>
                        </li>
                        <li value="2"><b>Protobuf</b>
                        </li>
                    </ul>
                </td>
            </tr>
        </table>
        <h4><a name="Topic"></a>Topic Options for Data Group Properties</h4>
        <p>IoT Sparkplug EIE non-DynaCard data groups can subscribe to either node level or device level topics. In the <b>Topics</b> section of the <b>Data Group Properties</b> dialog:</p>
        <ul>
            <li value="1">When  all three topic fields (<b>Group ID</b>, <b>Edge node ID</b>, and <b>Device ID</b>) contain entries, the data group subscribes to the following topics:</li>
        </ul>
        <ul class="Circle">
            <li value="1">
                <p>spBv1.0/[<b>Group ID</b>]/DBIRTH/[<b>Edge node ID</b>]/[<b>Device ID</b>]</p>
            </li>
            <li value="2">
                <p>spBv1.0/[<b>Group ID</b>]/DDEATH/[<b>Edge node ID</b>]/[<b>Device ID</b>]</p>
            </li>
            <li value="3">
                <p>spBv1.0/[<b>Group ID</b>]/DDATA/[<b>Edge node ID</b>]/[<b>Device ID</b>]</p>
            </li>
            <li value="4">When only the <b>Group ID</b> and <b>Edge node ID</b> fields contain entries and the <b>Device ID</b> field is blank, the data group subscribes to the following topics:
		</li>
        </ul>
        <ul class="Circle">
            <li value="1">
                <p>spBv1.0/[<b>Group ID</b>]/NBIRTH/[<b>Edge node ID</b>]</p>
            </li>
            <li value="2">
                <p>spBv1.0/[<b>Group ID</b>]/NDEATH/[<b>Edge node ID</b>]</p>
            </li>
            <li value="3">
                <p>spBv1.0/[<b>Group ID</b>]/NDATA/[<b>Edge node ID</b>]</p>
            </li>
        </ul>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> For IoT Sparkplug EIE DynaGraph Data Groups requirements,  see <a href="IoT Sparkplug EIE Dynagraph Data Group.htm#Dynagraph">Dynagraph Card Topic Requirements</a>.</p>
        </div>
        <h4>Compression</h4>
        <p> The IoT Sparkplug EIE supports reading compressed or uncompressed Sparkplug B payloads. It supports zlib and gzip compression formats. </p>
        <h3>Point Processing</h3>
        <h4>Timestamps</h4>
        <p>A payload file may include a timestamp for each data item, a timestamp for the entire payload, or no timestamp at all. When processing points, CygNet will assign timestamps in this order: </p>
        <ol>
            <li value="1">the timestamp associated with the data item if it exists</li>
            <li value="2">the timestamp for the payload if it exists </li>
            <li value="3"> the current time.</li>
        </ol>
        <p>The timestamp locations are defined in the Sparkplug specification.</p>
        <h4>Lost Connection</h4>
        <p> When payload data indicates the connection between the MQTT server and the remote device has been lost, CygNet can be configured to set all points associated with the topic to unreliable. This feature is enabled in the template file for each data group using the <b>setUnreliableOnLostConnection </b>attribute. If true, all points associated with the topic are set to unreliable. Otherwise the point status is unchanged. </p>
        <p>The Sparkplug node and device DEATH messages are used to indicate a lost connection.</p>
        <p />
        <h4>Rebirth Request</h4>
        <p>The IoT Sparkplug driver automatically requests a rebirth if it receives data for an alias that was not defined in the most recent BIRTH message. When an unknown alias is received, the mapping from alias to item is considered unreliable, so no data from the payload is processed.</p>
        <p>A user can request a rebirth manually through the "Command – Device" (<b>CmdDev</b>) or "Command – Edge Node" (<b>CmdNode</b>) data group  using the data group editor or via a UIS command. See <a href="IoT Sparkplug EIE Command-Type Data Groups.htm">Command-Type Data Groups</a> for more information. </p><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>