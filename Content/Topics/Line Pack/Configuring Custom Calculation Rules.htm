<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Line Pack|Configuring Line Pack|Configuring Line Pack Rules">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Configuring Custom Calculation Rules</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="Line Pack.htm">Line Pack</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Configuring Line Pack.htm">Configuring Line Pack</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Configuring Line Pack Rules.htm">Configuring Line Pack Rules</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Configuring Custom Rules</span>
        </div>
        <map id="map1" name="map1">
            <area shape="rectangle" coords="22,19,400,147" href="#BaseInputs" title="Base inputs (click for more info)" alt="Base inputs (click for more info)" class="selected" />
            <area shape="rectangle" coords="440,19,551,116" href="#Creating" title="New/Edit/Delete/Enable rule (click for more info)" alt="New/Edit/Delete/Enable rule (click for more info)" class="selected" />
            <area shape="rectangle" coords="440,119,551,143" href="Running an Example Calculation.htm" title="Sample calculation (click for more info)" alt="Sample calculation (click for more info)" />
            <area shape="rectangle" coords="404,19,430,146" href="#Creating2" title="Copy/Paste/Move rules (click for more info)" alt="Copy/Paste/Move rules (click for more info)" class="selected" />
        </map>
        <h2>Configuring Custom Calculation Rules</h2>
        <p>When a pack segment is selected in the tree control on the <b>Line Pack</b> page, the <b>Calculation rules</b> box at the bottom of the screen becomes enabled. This is where the inputs used to calculate the Line Pack for the selected pack segment are configured. </p>
        <p class="Image">
            <img src="../../Resources/Images/Line Pack/LP_LP_Custom_Rules.png" usemap="#map1" style="border-left-style: solid;border-left-width: 0px;border-right-style: solid;border-right-width: 0px;border-top-style: solid;border-top-width: 0px;border-bottom-style: solid;border-bottom-width: 0px;" />
        </p>
        <p>One of the features of the Line Pack application is the ability to create precedence rules for determining the inputs. Based upon changing conditions in the field, it may be appropriate to use different inputs for the same calculation. A compressor station may be shut down, or a sensor may stop responding. When looking at the list of calculation rules, the rule at the top has the highest precedence and will be evaluated first. </p>
        <p>If any rule fails to evaluate as true, the next rule will be evaluated, and so on down the list of rules. Every pack segment has a <b>&lt;BASE INPUTS&gt;</b> rule by default. This rule represents the inputs to be used if none of the custom rules are used, or if the custom rules don’t specify every input. If an input is specified multiple times, the instance with the highest precedence will be used. This rule cannot be deleted and will always appear in the bottom of the rules list.</p>
        <p>It is recommended that the Base Inputs rule be specified before creating custom calculation rules.</p>
        <p>See the following subsections below for more information:</p>
        <ul>
            <li class="HyperlinkList" value="1"><a href="#BaseInputs" class="selected">Base Inputs Rules</a>
            </li>
            <li class="HyperlinkList" value="2"><a href="#Creating2" class="selected">Creating Custom Rules</a>
            </li>
            <li class="HyperlinkList" value="3"><a href="#Creating" class="selected">Creating or Editing a Custom Rule</a>
            </li>
        </ul>
        <h3><a name="BaseInputs"></a>Base Inputs Rule</h3>
        <p>To configure the base inputs, double-click the <b>&lt;BASE INPUTS&gt;</b> rule in the <b>Calculation Rules</b> grid. Each of the inputs listed have fields for Minimum value (<b>Min</b>), Maximum value (<b>Max</b>), <b>Point</b>, and <b>Unit</b> for the selected pipeline segment.</p>
        <div class="Note">
            <p><span class="NoteHeading">Note:</span> The <b>Base Inputs</b> listed in this dialog box differ depending on the contents of the pipeline; the examples on this page are for a natural gas Line Pack system.</p>
        </div>
        <p>Click the following image to see an enlarged <b>Base Inputs</b> screen:</p>
        <p class="Image"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Line Pack/LP_LP_Base_Inputs.png" data-mc-popup-alt="Click for more information"><img class="MCPopupThumbnail img imgThumbnail_Image" data-mc-width="483" data-mc-height="376" src="../../Resources/Images/Line Pack/LP_LP_Base_Inputs_thumb_0_48.png" alt="Click for more information" title="Click for more information" tabindex="" /></a>
        </p>
        <p>The properties for each section of this dialog box are described below.</p>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Column</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p><b>Name</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">The list of base inputs defined for the selected pack segment.</td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2"><b>Min and Max</b>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>The <b>Min</b> and <b>Max</b> fields can be set to specify a range for the input. One, both, or neither of the fields can be set. If a value specified by a custom rule is out of range, a warning will be generated and the value from the base inputs is used. If the value specified by the base inputs is out of range, then it is considered a bad input and it will follow the <b>Bad Input Action</b> behavior specified in the <a href="Configuring Calculation Settings.htm#Other">Calculations</a> page. The inputs used by the selected supercompressibility formula will be automatically range checked to meet the specifications of the formula.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1"><b>Point</b>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The <b>Point</b> column specifies the value to use if an input is not specified or set by a custom calculation rule. The value can either be a set value or the value (65) of the specified point (ACME4.UIS::TEMP_IN).</p>
                    <ul class="table">
                        <li value="1">Click the small black arrow to select a point.</li>
                    </ul>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2"><b>Unit</b>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>The <b>Units</b> column specifies the units for the input. The units cannot be changed. If a point is specified for the input value, the units of the point record must be convertible to the units of the input (for example, kelvin to Fahrenheit). An input with no units specified has no requirement for units within the point record. The <b>Point</b> column can hold either a point tag or a static value. The temperature and pressure inputs will have as many ordinalized inputs available as are configured on the <a href="Configuring Calculation Settings.htm#Formulas">Calculations</a> page.</p>
                </td>
            </tr>
        </table>
        <h4>Other Base Inputs Settings</h4>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Option</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p><b>Calculate supercompressibility factor</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <div class="Note">
                        <p><span class="NoteHeading">Note:</span> This option applies only to natural gas.</p>
                    </div>
                    <p>If enabled, the inputs required to calculate the supercompressibility factor will be presented. If disabled, a single supercompressibility input will be displayed.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p><b>Number of temperature inputs required</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>The number of ordinalized temperature inputs required for the calculation. For example, a pack segment can be configured so that 3 of the 6 available temperature inputs must be valid to calculate Line Pack, and any additional inputs above the required 3 will be used if available. If the number of inputs required is not met, then it is considered a bad input and it will follow the <b>Bad input action</b> behavior specified in the <a href="Configuring Calculation Settings.htm#Other">Calculations</a> page. </p>
                    <div class="Note">
                        <p><span class="NoteHeading">Note:</span> This field can only be edited if <b>Average temperature formula</b> is set to <b>Arithmetic mean</b> on the <a href="Configuring Calculation Settings.htm#Formulas">Calculations</a> page. </p>
                    </div>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p><b>Number of additional pressure inputs required</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The number of ordinalized pressure inputs required for the calculation. This number does not include the Inlet and Outlet Pressures. </p>
                    <div class="Note">
                        <p><span class="NoteHeading">Note:</span> This field can only be edited if <b>Average pressure formula</b> is set to <b>Arithmetic mean</b> or <b>Complex arithmetic mean</b> on the <a href="Configuring Calculation Settings.htm#Formulas">Calculations</a> page.</p>
                    </div>
                </td>
            </tr>
        </table>
        <h3><a name="Creating2"></a>Creating Custom Rules</h3>
        <p>Once <b>Base Inputs</b> are specified, custom calculation rules can be configured. </p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Button</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>
                        <img src="../../Resources/Images/Shared Images/copy.png" class="Inline" title="Copy" alt="Copy" />
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Copy the current rule to the clipboard.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>
                        <img src="../../Resources/Images/Shared Images/paste.png" class="Inline" />
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Paste the rule from the clipboard into the current pack segment.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>
                        <img src="../../Resources/Images/Shared Images/paste_plus.png" class="Inline" />
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Paste the rule from the clipboard into the current pack segment, but first a dialog box is presented letting you change all the tags.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>
                        <img src="../../Resources/Images/Shared Images/moveup_blue.png" class="Inline" />
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Move the currently selected rule up the list, increasing its precedence order.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>
                        <img src="../../Resources/Images/Shared Images/movedown_blue.png" class="Inline" />
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Move the currently selected rule down the list, decreasing its precedence order.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>New rule</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Create a new rule.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>Edit rule</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Edit the currently selected rule.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>Delete rule</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Delete the currently selected rule.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p>Enable/disable rule</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Rules may be disabled to prevent them from being evaluated. Disabled rules are highlighted in red and have an <b>N</b> in the <b>Act</b> (Active) column. </p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p>Sample calculation</p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Shows how rules would be evaluated given the current conditions and executes a sample calculation. All the calculations are done locally on the screen and will not affect the system. See <a href="Running an Example Calculation.htm">Sample Calculation</a> for an example.</p>
                </td>
            </tr>
        </table>
        <h3><a name="Creating"></a>Creating or Editing a Custom Rule</h3>
        <p>Click the <b>New rule</b> or <b>Edit rule</b> button on the <b>Line Pack</b> page  to open the <b>Calculation Rules</b> dialog box to specify condition statements. If a conditional statement evaluates to be true the adjusted inputs will be used as inputs to the calculation rule.</p>
        <p>Click the following image to see an enlarged <b>Calculation Rules</b> screen:</p>
        <p class="Image"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Line Pack/LP_LP_Calculation_Rules.png" data-mc-popup-alt="Click for more information"><img class="MCPopupThumbnail img imgThumbnail_Image" data-mc-width="551" data-mc-height="454" src="../../Resources/Images/Line Pack/LP_LP_Calculation_Rules_thumb_0_48.png" alt="Click for more information" title="Click for more information" tabindex="" /></a>
        </p>
        <p>The properties for each section of this dialog box are described below.</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 150px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Property</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p><b>Pipe segment</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>The facility of the pipeline segment to which this rule applies.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p><b>Description</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Textual description of the rule.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                    <p><b>Conditional statements</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Specifies the conditional statements that must all evaluate as true for this rule to be used. Up to four comparative statements can be entered at a time and can either use the logical operator <b>And</b> to narrow the selection, or the operator <b>Or</b> to widen the selection. </p>
                    <ul class="table">
                        <li value="1">Click <b>Add/save</b> to add those comparative statements to a single line in the box below. Multiple lines in that box can then be combined using the logical operators <b>And</b> and <b>Or</b>. </li>
                        <li value="2">The <b>Clear on add/save</b> option will clear the conditional statements when added to the single expression line.</li>
                    </ul>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                    <p><b>Adjusted input</b>
                    </p>
                </td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>Inputs to use if this rule evaluates to be true. At minimum, one input must be specified. Either a point or a static value may be entered.</p>
                    <div class="Note">
                        <p><span class="NoteHeading">Note:</span> The <b>Adjusted Inputs</b> listed  differ depending on the contents of the pipeline.</p>
                    </div>
                </td>
            </tr>
        </table>
        <p class="HeadingProcedure">To Create a New Custom Rule</p>
        <ol start="1">
            <li value="1">From the <b>Line Pack</b> page click the <b>New rule</b> button.</li>
            <li value="2">Enter a description. </li>
            <li value="3">Enter <b>Conditional statements</b> by browsing for the appropriate <b>Long point IDs</b>, and using the <b>Operator</b> and <b>Value</b> fields to construct the statements to be evaluated. </li>
            <li value="4">Click <b>Add/save</b> to move the statements to the expression editor. </li>
            <li value="5">Specify the <b>Adjusted inputs</b>. These values will be used as the input if the rule evaluates to be true.</li>
        </ol><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>