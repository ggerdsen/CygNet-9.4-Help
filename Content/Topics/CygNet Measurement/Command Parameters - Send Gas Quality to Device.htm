<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="CygNet Measurement|FMS Commands">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Send Gas Quality Commands</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="CygNet Measurement.htm">CygNet Measurement</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="FMS Commands.htm">FMS Commands</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Device Communication: Send Gas Quality</span>
        </div>
        <h2>Device Communication: Send Gas Quality</h2>
        <p><b>Send Gas Quality</b> (<b>SENDGQ</b> via script) is a command that triggers the service to send gas quality or gas analysis information to the specified device. If the device is configured to use an alternate Node as its gas quality/analysis source, then the gas quality from the source will be sent. The service sends gas quality data as of the timestamp specified in the command parameters.</p>
        <p>Devices are eligible if the following apply.</p>
        <ul>
            <li value="1">Their device record is set to "active"</li>
            <li value="2">The associated device record in the DDS is enabled</li>
            <li value="3">The user executing the command has the appropriate security access</li>
            <li value="4">It passes the requirements of the "Last Success" parameter</li>
            <li value="5">It passes the requirements of the "Last Failure" parameter</li>
        </ul>
        <p>You must have proper security authorization to execute this command. See <a href="FMS Security.htm">FMS Security</a> (and <a href="FMS Security Events.htm#CMDDEV">CMDDEV</a> security event) for information about configuring security access for FMS commands.</p>
        <p>See <a href="Configuring Send Gas Quality to Device Commands.htm">Configuring Send Gas Quality Commands</a> and <a href="Running Node Commands.htm">Running Node Commands</a> for more information about using this command via FMS Explorer.</p>
        <p>See <a href="Scheduling FMS Command Tasks in the MSS.htm">Scheduling FMS Command Tasks in the MSS</a> for more information about scheduling commands.</p>
        <p>See <a href="FMS ActiveX Controls.htm">FMS ActiveX Controls</a> and <a href="../Scripting/CxHmiFms.htm">CxHmiFms</a> for more information about using commands via FMS ActiveX controls on CygNet Studio or CygNet Vision screens.</p>
        <p>See <a href="../Scripting/CxFms.htm">CxFms</a> for more information about scripting commands.</p>
        <h3>Command Definition Properties</h3>
        <p>The following command definition properties apply to <b>Send Gas Quality</b> commands, when scheduling, creating, or editing commands via CygNet Explorer.</p>
        <table style="caption-side: top;margin-left: 0;margin-right: auto;width: 800px;mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 200px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Property</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">FMS service</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">Select a <i>Site.Service</i> for the command from the available <b>FMS service</b> list in the drop-down menu.</td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">Command</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>Select the desired <b>Command</b> name from the drop-down menu.</p>
                        <p>See <a href="FMS Commands.htm">FMS Commands</a> for more information about available command types.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Time format</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>Select the desired <b>Time format</b> for the command from the drop-down menu. </p>
                        <p>Options are as follows.</p>
                        <ul class="table">
                            <li value="1">Contract</li>
                            <li value="2">Device</li>
                        </ul>
                        <p>Default value is Device time.</p>
                        <div class="Note">
                            <p><span class="NoteHeading">Notes:</span>
                            </p>
                            <p class="Note">This parameter determines how the time window is selected in the database; not how the data is exported.</p>
                            <p class="Note">For daily devices only, specifying start and end times of midnight (<b>00:00:00</b>), will always be interpreted as Contract time format, regardless of this selected parameter value.</p>
                        </div>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">Priority</td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>Select a processing queue <b>Priority</b> for the command from the drop-down menu. </p>
                        <p>Options from least to greatest priority are as follows.</p>
                        <ul class="table">
                            <li value="1"><b>Low</b> level</li>
                            <li value="2"><b>Medium</b> level</li>
                            <li value="3"><b>High</b> level</li>
                            <li value="4"><b>User</b> initiated transaction</li>
                            <li value="5"><b>Admin</b> initiated transaction</li>
                        </ul>
                        <p>Default value is <b>Low</b> level processing queue priority.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body1">Logging</td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body1">
                        <p>Select a <b>Logging</b> level for the command results from the drop-down menu. </p>
                        <p>Options are as follows.</p>
                        <ul class="table">
                            <li value="1"><b>Low</b> - displays errors</li>
                            <li value="2"><b>Medium</b> - displays errors and warnings</li>
                            <li value="3"><b>High</b> - displays errors, warnings, and status</li>
                        </ul>
                        <p>Default value is <b>Low</b> level logging when scheduling a command via the MSS service in CygNet Explorer. </p>
                        <p>Default value is <b>High</b> level logging when creating or running an ad-hoc command in FMS Explorer or via the FMS service in CygNet Explorer.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><a name="Send"></a>Send Gas Quality Process</h3>
        <p>The gas quality or gas analysis (GQ/GA) data to send to a device as a result of the Send Gas Quality command is determined by the following  process.</p>
        <ul>
            <li value="1">In all situations,  the most recent GQ/GA record available for the Node is used, based on the value of the <a href="#GQTimestamp" class="selected">gas quality timestamp</a> configured in the command parameters, in Device time (D).</li>
            <li value="2">When the command is initiated, the FMS service checks to see what type of data the Node supports, in order to send the appropriate values from the available gas quality/analysis records to the device. See <a href="Creating Gas Meter Nodes.htm#Device2">Creating Gas Meter Nodes</a> for more information about supported Node data.<div class="Note"><p><span class="NoteHeading">Note:</span> Support for gas quality (GQ) history and use of an alternate gas quality/analysis source Node are mutually exclusive. A Node can support one or the other, or neither, but not both.</p></div></li>
        </ul>
        <ul class="Circle">
            <li value="1">If the  selected device Node supports live GQ history, then those values are available, so no send action is required.</li>
            <li value="2">If the selected device Node uses an alternate gas quality/analysis source Node,  then the values used are determined as follows.</li>
        </ul>
        <ul class="Square">
            <div class="Note">
                <p><span class="NoteHeading">Note:</span> Only Nodes using their own GQ/GA records can be used as a source Node. A Node configured to use an alternate Node as its gas quality/analysis source is not then eligible itself to be used as a source Node. </p>
            </div>
            <li value="2">If the specified alternate source Node supports live GQ history, then those values  are available, so no send action is required.
</li>
            <li value="3">If  the specified alternate source Node does not support live GQ history, then the database is searched for available GA values to use. 
        </li>
            <li value="4">If GA is not present, either the GQ values are used or the Node is skipped, as defined by the <a href="#DataTypeTo" class="selected">Data type to send for each Node</a> parameter.</li>
        </ul>
        <ul start="3" class="Circle">
            <li value="3">If the selected device Node does not support live GQ history and does not use an alternate gas quality/analysis source Node, or if no GA record is found for the source Node, then the database is searched for available GQ/GA in the selected device Node's most recent configuration record, and those values are used. </li>
        </ul>
        <ul class="Square">
            <li value="1">If both GA and GQ are present for that time, then the GA values are used.</li>
            <li value="2">If GA is not present, either the GQ values are used or the Node is skipped, as defined by the <a href="#DataTypeTo" class="selected">Data type to send for each Node</a> parameter.</li>
        </ul><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <h3><a name="Command"></a>Command Parameters</h3>
        <p>The following command parameters apply to <b>Send Gas Quality</b> commands, when scheduling, creating, or editing commands via CygNet Explorer or scripting.</p>
        <table style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;caption-side: top;width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Parameter</th>
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Description</th>
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Type</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Usage Notes</th>
                </tr>
            </thead>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">ConfigDt</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1"><a name="GQTimestamp"></a>Gas quality timestamp</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">DateTime</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>Double-click to access the <b>Select Gas Quality Timestamp</b> dialog box.</p>
                    <p>Select date/time settings. See <a href="#Note" class="selected">Note</a> below this table.</p>
                    <p>See <a href="../Date and Time/Selecting Date and Time.htm">Selecting Date and Time</a> for more information.</p>
                    <p>This parameter is optional. Default value is &lt;current time&gt;.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">SuccessDt</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">Skip if succeeded after</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">DateTime</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>If used, double-click to access the  <b>Select Skip If Succeeded After</b> dialog box.</p>
                    <p>Click <b>...</b> to <b>Select Date and Time</b>.  See <a href="#Note" class="selected">Note</a> below this table.</p>
                    <p>See <a href="../Date and Time/Selecting Date and Time.htm">Selecting Date and Time</a> for more information.</p>
                    <p>If used, will not execute on devices that have a successful ReqConfig (Request Current Configuration) message after the given timestamp.</p>
                    <p>This parameter is optional.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">FailedDt</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Skip if no failure after</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">DateTime</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>If used, double-click to access the <b>Select Skip If No Failure After</b> dialog box.
                    </p>
                    <p>Click <b>...</b> to <b>Select Date and Time</b>.  See <a href="#Note" class="selected">Note</a> below this table.</p>
                    <p>See <a href="../Date and Time/Selecting Date and Time.htm">Selecting Date and Time</a> for more information.</p>
                    <p>If used, will not execute on devices unless they have a failure on or after the given timestamp.</p>
                    <p>This parameter is optional.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">StatPtUdc</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">Status point UDC</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">String</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>If used, double-click to access the <b>Enter Status Point UDC</b> dialog box.</p>
                    <p>Type the status point UDC into the text box.</p>
                    <p>If used, the UDC will be combined with the field device facility and the resolved point's status will be updated. </p>
                    <p>This parameter is optional.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Timeout</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Previous request timeout (hours)</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Integer</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>If used, double-click to access the <b>Enter Previous Request Timeout (Hours)</b> dialog box.</p>
                    <p>Type the number of hours before which the request will timeout if it hasn't been completed by the UIS. Each device is only allowed a single outstanding poll (per type) at a time.</p>
                    <p>This parameter is optional.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">SkipSent</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">Skip gas analysis if already sent</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">String Enum</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>If used, double-click to access the <b>Skip Gas Analysis If Already Sent</b> dialog box.</p>
                    <p>Select one of the following options. </p>
                    <ul class="table">
                        <li value="1"><b>Yes</b> (<b>YES</b> via script)</li>
                        <li value="2"><b>No</b> (<b>NO</b> via script)</li>
                    </ul>
                    <p>If set to <b>Yes</b>  records with a "sent" status will not be resent. </p>
                    <p>If set to <b>No</b> the status will not be considered when sending records. </p>
                    <p>This parameter is optional. Default value is No.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">SkipExcpt</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Skip gas analysis with open exceptions</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">String Enum</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>If used, double-click to access the <b>Skip Gas Analysis With Open Exceptions</b> dialog box.</p>
                    <p>Select one of the following options. </p>
                    <ul class="table">
                        <li value="1"><b>Yes</b> (<b>YES</b> via script)</li>
                        <li value="2"><b>No</b> (<b>NO</b> via script)</li>
                    </ul>
                    <p>If set to <b>Yes</b> records with any "open" exceptions will not be sent. </p>
                    <p>If set to <b>No</b> the exceptions status will not be considered when sending records. </p>
                    <p>This parameter is optional. Default value is No.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body2">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">TypeToSend</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2"><a name="DataTypeTo"></a>Data type to send for each Node</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">String Enum</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                    <p>If used, double-click to access the <b>Data Type to Send for Each Node</b> dialog box.</p>
                    <p>Select one of the following options.</p>
                    <ul class="table">
                        <li value="1"><b>Gas analysis (if present), otherwise config GQ</b> (<b>BOTH</b> via script)</li>
                        <li value="2"><b>Gas analysis (if present), otherwise skip Node</b> (<b>GA</b> via script)</li>
                    </ul>
                    <p>The database is first searched for a gas analysis (GA) record. If no GA record is found, the parameter value selected determines whether to use the GQ data record instead, or to skip the Node. </p>
                    <p>This parameter is optional. Default is Gas Analysis (if present), otherwise config GQ. See <a href="#Send" class="selected">Send Gas Quality Process</a> for more information.</p>
                </td>
            </tr>
            <tr class="TableStyle-HelpTable2-Body-Body1">
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">GetCfgPri</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">Get current configuration prior to send</td>
                <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">String Enum</td>
                <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                    <p>If used, double-click to access the <b>Get Current Configuration Prior to Send</b> dialog box.</p>
                    <p>Select one of the following options.</p>
                    <ul class="table">
                        <li value="1"><b>Yes</b> (<b>YES</b> via script)</li>
                        <li value="2"><b>No</b> (<b>NO</b> via script)</li>
                    </ul>
                    <p>This parameter is optional. Default value is No.</p>
                </td>
            </tr>
        </table>
        <p><a name="Note"></a>
        </p>
        <div class="Note"><a name="Note"></a>
            <p><span class="NoteHeading">Note:</span> Date/time - When using relative (rather than absolute) date/time, if both the start and end date/time have hour, minute, and second values of <b>00</b> (or if both are set to midnight), an additional day will be added to the date at the end of the range. This occurs because the service assumes the start of the day for the starting date/time and the end of the day for the ending date/time in these circumstances. Therefore requesting a time range from T to T will yield one day of data, and from T-1 to T will yield two days of data.  If only one day of data is desired when using relative date/time, the start and end date/times must therefore be the same. If any of the start or end date/time hour, minute, or second values are specified as a value other than zero (or midnight) however, the range will be used as specified.</p>
        </div><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>