<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="CygNet.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="CygNet Measurement|FMS Explorer|Commands Menu">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>FMS Explorer Perform Database Maintenance Commands</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/HelpTable2.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoBorder8.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/HTML5.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><a class="MCBreadcrumbsLink" href="CygNet Measurement.htm">CygNet Measurement</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="FMS Explorer.htm">FMS Explorer</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Using the Commands Menu.htm">Commands Menu</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Running Perform Database Maintenance Commands</span>
        </div>
        <h2>Running Perform Database Maintenance Commands</h2>
        <p>
            <img src="../../Resources/Images/CygNet Measurement/Database_Maintain16.png" />&#160;Use the <b>Database Maintenance</b> button to access the dialog box to run the <b>Perform Database Maintenance</b> command. This command triggers the service to execute the configured database maintenance tasks, utilizing retention periods configured for your system. You can also run the command manually from this page.  </p>
        <p>The retention period values for command and transaction logs must be configured prior to running the Perform Database Maintenance  command. Use the Extended Options button on the Commands menu to access configuration details. See <a href="Configuring Extended Command Options.htm">Configuring Extended Command Options</a> and <a href="Configuring Database Maintenance Retention Periods.htm">Configuring Database Maintenance Retention Periods</a> for more information.</p>
        <p>The command can also be initiated by scheduling the <b>Perform Database Maintenance</b> command in the Master Scheduling Service (MSS) in CygNet Explorer (most common usage), or via scripting.</p>
        <p>See <a href="FMS Commands.htm">FMS Commands</a> and <a href="Command Parameters - Perform Database Maintenance.htm">Perform Database Maintenance</a> for more information about this command.</p>
        <p>See <a href="Scheduling FMS Command Tasks in the MSS.htm">Scheduling FMS Command Tasks in the MSS</a> for more information about scheduling commands.</p>
        <p>See <a href="FMS ActiveX Controls.htm">FMS ActiveX Controls</a> and <a href="../Scripting/CxHmiFms.htm">CxHmiFms</a> for more information about using commands via FMS ActiveX controls on CygNet Studio or CygNet Vision screens.</p>
        <p>See <a href="../Scripting/CxFms.htm">CxFms</a> for more information about scripting commands.</p>
        <h3>Managing Perform Database Maintenance Commands</h3>
        <p>Prior to running a Database Maintenance Command, verify or configure the retention periods referenced by the command. </p>
        <p>Verify retention periods determined by keyword values in the FMS service configuration file (<b>CygNet\Services\FMS\fms.cfg</b>). </p>
        <p>See <a href="../Service Configuration Keywords/FMS Configuration File Keywords.htm">FMS Configuration File Keywords</a> for more information.</p>
        <p>Click <b>Commands</b> &gt; <b>Extended Options</b> on the Commands menu to access the <b>Database Maintenance</b> dialog box to view, add, edit, or delete retention periods for the Perform Database Maintenance command. See <a href="Configuring Database Maintenance Retention Periods.htm">Configuring Database Maintenance Retention Periods</a> for more information.</p>
        <h3>Running a Database Maintenance Command</h3>
        <p>Most Detect New Devices commands will be run via scheduled tasks. See <a href="Scheduling FMS Command Tasks in the MSS.htm">Scheduling FMS Command Tasks in the MSS</a> for more information. </p>
        <p>Use the following procedure to  select additional parameters and run a Perform Database Maintenance command manually.</p>
        <p class="HeadingProcedure">To Run a Database Maintenance Command </p>
        <ol>
            <li value="1">Configure or verify retention periods via the <b>Extended Options</b> button. See <a href="Configuring Database Maintenance Retention Periods.htm">Configuring Database Maintenance Retention Periods</a> for more information.</li>
            <li value="2">On the Commands menu, click <b>Database Maintenance</b> to access the <b>Run FMS Command</b> dialog box for the Perform Database Maintenance command. 
					 <p><img src="../../Resources/Images/CygNet Measurement/Run_Database_Maintenance.png" /></p></li>
            <li value="3">Define the <a href="#Database2" class="selected">command definition properties</a>.</li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1">Select a processing priority from the drop-down menu in the <b>Command definition properties</b> box. Options include <b>Low</b>, <b>Medium</b>, <b>High</b>, <b>User</b>, and <b>Admin</b>.</li>
            <li value="2">Select a logging level from the drop-down menu in the <b>Command definition properties</b> box. Options include <b>Low</b>, <b>Medium</b>, and <b>High</b>. </li>
        </ol>
        <ol start="4">
            <li value="4">Define the <a href="#Database" class="selected">command parameters</a>. </li>
        </ol>
        <ol class="Lower_alpha">
            <li value="1">Parameters for the Perform Database Maintenance system command are described in the <b>Command parameters</b> box, which includes the <b>Description</b>, a <b>Required?</b> indicator, and the <b>Value</b> field. For each parameter, the <b>Value</b> can be set to <b>Yes</b> or <b>No</b> to decide whether or not to include the selected parameter in the command. These parameters are optional.
			<div class="Note"><p><span class="NoteHeading">Note:</span> Additional parameters exist to configure retention periods for the Database Maintenance system command. Because they are too numerous to be described in the <b>Command parameters</b> box, retention parameters are configured through the Extended Options button on the Commands menu, in normalization views, and in the FMS service configuration file. If they are not specifically configured, the retention periods will use default values. See <a href="Configuring Database Maintenance Retention Periods.htm">Configuring Database Maintenance Retention Periods</a> and <a href="../Service Configuration Keywords/FMS Configuration File Keywords.htm">FMS Configuration File Keywords</a> for more information.</p></div></li>
            <li value="2">Click <b>Run Command</b>.</li>
        </ol><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <h3><a name="Database2"></a>Database Maintenance Command Definition Properties</h3>
        <p>The following command definition properties apply to Database Maintenance commands. </p>
        <table style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;caption-side: top;width: 800px;" class="TableStyle-HelpTable2" cellspacing="0">
            <col style="width: 210px;" class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Property</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                        <p>Command type</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>For system commands, this property will be read-only and will display the selected command type.</p>
                        <p>See <a href="FMS Commands.htm">FMS Commands</a> for more information about command types.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                        <p>Priority</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>Select a processing queue <b>Priority</b> for the command from the drop-down menu. </p>
                        <p>Options from least to greatest priority are as follows.</p>
                        <ul class="table">
                            <li value="1"><b>Low</b> level</li>
                            <li value="2"><b>Medium</b> level</li>
                            <li value="3"><b>High</b> level</li>
                            <li value="4"><b>User</b> initiated transaction</li>
                            <li value="5"><b>Admin</b> initiated transaction</li>
                        </ul>
                        <p>Default value is <b>Low</b> level processing queue priority.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body1">
                        <p>Logging</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body1">
                        <p>Select a <b>Logging</b> level for the command results from the drop-down menu. </p>
                        <p>Options are as follows.</p>
                        <ul class="table">
                            <li value="1"><b>Low</b> - displays errors</li>
                            <li value="2"><b>Medium</b> - displays errors and warnings</li>
                            <li value="3"><b>High</b> - displays errors, warnings, and status</li>
                        </ul>
                        <p>Default value is <b>Low</b> level logging when scheduling a command in the MSS. </p>
                        <p>Default value is <b>High</b> level logging when creating or running an ad-hoc command in FMS Explorer.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><a name="Database"></a>Database Maintenance Command Parameters</h3>
        <p>The following command parameters apply to Database Maintenance commands.</p>
        <table class="TableStyle-HelpTable2" style="mc-table-style: url('../../Resources/TableStyles/HelpTable2.css');margin-left: 0;margin-right: auto;width: 800px;" cellspacing="0">
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <col class="TableStyle-HelpTable2-Column-Column1" />
            <thead>
                <tr class="TableStyle-HelpTable2-Head-Header1">
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1">Description</th>
                    <th class="TableStyle-HelpTable2-HeadE-Column1-Header1" style="text-align: center;">Required?</th>
                    <th class="TableStyle-HelpTable2-HeadD-Column1-Header1">Value</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                        <p>Delete expired command history</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="text-align: center;">
                        <p>Optional</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>If used, deletes from the database all command history records that are older than the specified number of days. <br /></p>
                        <p>Prior to running a database maintenance command, verify or configure the database maintenance retention periods. Retention period is configured per command type by users with proper security access, via the <b>Extended Options</b> button on the <b>Commands</b> menu. See <a href="Configuring Database Maintenance Retention Periods.htm">Configuring Database Maintenance Retention Periods</a> for more information.</p>
                        <p>Options are <b>Yes</b> or <b>No</b>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2">
                        <p>Delete change queue entries</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body2" style="text-align: center;">
                        <p>Optional</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body2">
                        <p>If used, deletes change queue entries from the database, according to limits set by the change queue keywords configured in the FMS configuration file (<b>CygNet\Services\FMS\fms.cfg</b>).</p>
                        <p>See <a href="../Service Configuration Keywords/FMS Configuration File Keywords.htm">FMS Configuration File Keywords</a> for more information.</p>
                        <p>Options are <b>Yes</b> or <b>No</b>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body1">
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1">
                        <p>Purge expired device data</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyE-Column1-Body1" style="text-align: center;">
                        <p>Optional</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyD-Column1-Body1">
                        <p>If used, deletes all expired device data from the database. </p>
                        <p>Prior to running a database maintenance command, verify or configure the device data retention period (<b>DATA_RETENTION</b> database info keyword) configured in the FMS configuration file (<b>CygNet\Services\FMS\fms.cfg</b>). See <a href="../Service Configuration Keywords/FMS Configuration File Keywords.htm">FMS Configuration File Keywords</a> for more information.</p>
                        <p>Options are <b>Yes</b> or <b>No</b>.</p>
                        <div class="Note">
                            <p><span class="NoteHeading">Notes:</span> <![CDATA[ ]]></p>
                            <p class="TableNote">When expired device data is purged from the database, the last configuration record (with a timestamp prior to the remaining history records) will be retained. </p>
                        </div>
                    </td>
                </tr>
                <tr class="TableStyle-HelpTable2-Body-Body2">
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body2">
                        <p>Update archived databases</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyB-Column1-Body2" style="text-align: center;">
                        <p>Optional</p>
                    </td>
                    <td class="TableStyle-HelpTable2-BodyA-Column1-Body2">
                        <p>If used, updates archived database files to the current database version.</p>
                        <p>Options are <b>Yes</b> or <b>No</b>.</p>
                    </td>
                </tr>
            </tbody>
        </table><a href="#top" class="selected"><img src="../../Resources/Images/Shared Images/Arrow_top.png" style="float: right;padding-top: 6px;padding-right: 2px;padding-bottom: 2px;" title="Back to top" alt="Back to top" /></a>
        <hr width="100%" size="1" />
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/NoBorder8.css');" summary="MasterFooter" class="TableStyle-NoBorder8" cellspacing="0">
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <col class="TableStyle-NoBorder8-Column-Column1" />
            <tbody>
                <tr class="TableStyle-NoBorder8-Body-Body1">
                    <td class="TableStyle-NoBorder8-BodyB-Column1-Body1">
                        <p><a href="mailto:softwaredocs.feedback@weatherford.com?subject=Documentation%20feedback"><img src="../../Resources/Images/Shared Images/Feedback_footer.png" alt="Let us know how we can improve this topic." title="Let us know how we can improve this topic." class="Inline" /></a>
                        </p>
                    </td>
                    <td class="TableStyle-NoBorder8-BodyA-Column1-Body1">
                        <p class="MasterFooterContact"><a href="https://www.weatherford.com/en/products-and-services/production/production-4-0/iot-scada-platform//" target="_blank"><img src="../../Resources/Images/Shared Images/WFT_31x21.png" alt="CygNet at weatherford.com" title="CygNet at weatherford.com" /></a>
                        </p>
                        <p class="MasterFooterContact">© <span class="CygNetVariablesCurrentYear">2020</span> Weatherford. All rights reserved.</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>